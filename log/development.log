DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-06 11:45:31 +0530
  
ActiveRecord::DatabaseConnectionError (There is an issue connecting to your database with your username/password, username: Ramkumar.Rajendran.

Please check your database configuration to ensure the username/password are valid.
):
  
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client'
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.8.4) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.8.4) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.8.4) lib/active_record/migration.rb:648:in `connection'
activerecord (7.0.8.4) lib/active_record/migration.rb:643:in `build_watcher'
activerecord (7.0.8.4) lib/active_record/migration.rb:625:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-06 11:45:38 +0530
  
ActiveRecord::DatabaseConnectionError (There is an issue connecting to your database with your username/password, username: Ramkumar.Rajendran.

Please check your database configuration to ensure the username/password are valid.
):
  
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client'
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.8.4) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.8.4) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.8.4) lib/active_record/migration.rb:648:in `connection'
activerecord (7.0.8.4) lib/active_record/migration.rb:643:in `build_watcher'
activerecord (7.0.8.4) lib/active_record/migration.rb:625:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-06 18:40:23 +0530
  
ActiveRecord::DatabaseConnectionError (There is an issue connecting to your database with your username/password, username: Ramkumar.Rajendran.

Please check your database configuration to ensure the username/password are valid.
):
  
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client'
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.8.4) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.8.4) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.8.4) lib/active_record/migration.rb:648:in `connection'
activerecord (7.0.8.4) lib/active_record/migration.rb:643:in `build_watcher'
activerecord (7.0.8.4) lib/active_record/migration.rb:625:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-06 18:40:35 +0530
  
ActiveRecord::DatabaseConnectionError (There is an issue connecting to your database with your username/password, username: Ramkumar.Rajendran.

Please check your database configuration to ensure the username/password are valid.
):
  
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client'
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.8.4) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.8.4) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.8.4) lib/active_record/migration.rb:648:in `connection'
activerecord (7.0.8.4) lib/active_record/migration.rb:643:in `build_watcher'
activerecord (7.0.8.4) lib/active_record/migration.rb:625:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-06 18:45:19 +0530
  
ActiveRecord::DatabaseConnectionError (There is an issue connecting to your database with your username/password, username: Ramkumar.Rajendran.

Please check your database configuration to ensure the username/password are valid.
):
  
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client'
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.8.4) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.8.4) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.8.4) lib/active_record/migration.rb:648:in `connection'
activerecord (7.0.8.4) lib/active_record/migration.rb:643:in `build_watcher'
activerecord (7.0.8.4) lib/active_record/migration.rb:625:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-07 11:12:14 +0530
  
ActiveRecord::DatabaseConnectionError (There is an issue connecting to your database with your username/password, username: Ramkumar.Rajendran.

Please check your database configuration to ensure the username/password are valid.
):
  
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client'
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.8.4) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.8.4) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.8.4) lib/active_record/migration.rb:648:in `connection'
activerecord (7.0.8.4) lib/active_record/migration.rb:643:in `build_watcher'
activerecord (7.0.8.4) lib/active_record/migration.rb:625:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeColumnNameInRole (20210406072339)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "roles" RENAME COLUMN "default_role" TO "fc_default"[0m
Query Trace:
      db/migrate/20210406072339_change_column_name_in_role.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210406072339"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSalaries (20241121102559)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE "salaries" ("id" bigserial primary key, "carer_id" character varying, "group_id" character varying, "region_id" character varying, "time_period" character varying, "customized_checkbox" boolean, "account_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241121102559_create_salaries.rb:3:in `change'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalaries (20241121102559)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "salaries" ("id" bigserial primary key, "carer_id" character varying, "group_id" character varying, "region_id" character varying, "time_period" character varying, "customized_checkbox" boolean, "account_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241121102559_create_salaries.rb:3:in `change'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-27 11:55:29 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 2 pending migrations:

20241121102559_create_salaries.rb
20241121102628_create_salary_slab_inputs.rb


):
  
activerecord (7.0.8.4) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8.4) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8.4) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8.4) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalaries (20241121102559)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "salaries" ("id" bigserial primary key, "carer_id" character varying, "group_id" character varying, "region_id" character varying, "time_period" character varying, "customized_checkbox" boolean, "account_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241121102559_create_salaries.rb:3:in `change'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalaries (20241121102559)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "salaries" ("id" bigserial primary key, "carer_id" character varying, "group_id" character varying, "region_id" character varying, "time_period" character varying, "customized_checkbox" boolean, "account_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241121102559_create_salaries.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalaries (20241121102559)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "salaries" ("id" bigserial primary key, "carer_id" character varying, "group_id" character varying, "region_id" character varying, "time_period" character varying, "customized_checkbox" boolean, "account_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241121102559_create_salaries.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalaries (20241121102559)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "salaries" ("id" bigserial primary key, "carer_id" character varying, "group_id" character varying, "region_id" character varying, "time_period" character varying, "customized_checkbox" boolean, "account_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241121102559_create_salaries.rb:3:in `change'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalaries (20241121102559)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "salaries" ("id" bigserial primary key, "carer_id" character varying, "group_id" character varying, "region_id" character varying, "time_period" character varying, "customized_checkbox" boolean, "account_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241121102559_create_salaries.rb:3:in `change'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalaries (20241121102559)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "salaries" ("id" bigserial primary key, "carer_id" character varying, "group_id" character varying, "region_id" character varying, "time_period" character varying, "customized_checkbox" boolean, "account_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241121102559_create_salaries.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalaries (20241121102559)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "salaries" ("id" bigserial primary key, "carer_id" character varying, "group_id" character varying, "region_id" character varying, "time_period" character varying, "customized_checkbox" boolean, "account_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241121102559_create_salaries.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (5015.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "freshcare_development"[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (5023.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "freshcare_development"[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (5014.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "freshcare_development"[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-27 13:51:54 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20241121102628_create_salary_slab_inputs.rb


):
  
activerecord (7.0.8.4) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8.4) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8.4) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8.4) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-27 13:51:59 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20241121102628_create_salary_slab_inputs.rb


):
  
activerecord (7.0.8.4) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8.4) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8.4) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8.4) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241121102628)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241121102628)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241121102628)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241121102628)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-27 15:29:40 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (3.1ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 23ms (Views: 0.4ms | ActiveRecord: 8.2ms | Allocations: 4668)


Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-27 15:44:33 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.3ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 89ms (Views: 0.7ms | ActiveRecord: 17.7ms | Allocations: 5226)


Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-27 15:44:46 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (8.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 42ms (Views: 0.6ms | ActiveRecord: 8.8ms | Allocations: 1578)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (1.1ms)[0m  [1m[35mCREATE DATABASE "freshcare_development" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "freshcare_test" ENCODING = 'unicode'[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-29 12:47:40 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.9ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 15ms (Views: 0.2ms | ActiveRecord: 5.5ms | Allocations: 4635)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-29 13:19:32 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 60ms (Views: 0.8ms | ActiveRecord: 18.0ms | Allocations: 5223)


Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-29 13:20:50 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 11ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 1579)


Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-29 13:29:03 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 40ms (Views: 0.2ms | ActiveRecord: 9.3ms | Allocations: 6807)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/railtie.rb:80)
Started GET "/" for 127.0.0.1 at 2024-11-29 13:31:40 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 3.6ms | Allocations: 595)
Completed 200 OK in 26ms (Views: 8.5ms | ActiveRecord: 0.0ms | Allocations: 6354)


Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-29 13:40:58 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 54ms (Views: 0.3ms | ActiveRecord: 16.8ms | Allocations: 8057)


Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-29 14:07:25 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.3ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 38ms (Views: 0.2ms | ActiveRecord: 11.1ms | Allocations: 5158)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-30 12:16:51 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 15ms (Views: 0.3ms | ActiveRecord: 5.2ms | Allocations: 4634)


Started POST "//users/sign_in/" for 127.0.0.1 at 2024-11-30 12:16:56 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 10ms (Views: 0.4ms | ActiveRecord: 0.6ms | Allocations: 1580)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-02 10:38:37 +0530
  
ActiveRecord::DatabaseConnectionError (There is an issue connecting to your database with your username/password, username: Ramkumar.Rajendran.

Please check your database configuration to ensure the username/password are valid.
):
  
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client'
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.8.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.8.4) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.8.4) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.8.4) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.8.4) lib/active_record/migration.rb:648:in `connection'
activerecord (7.0.8.4) lib/active_record/migration.rb:643:in `build_watcher'
activerecord (7.0.8.4) lib/active_record/migration.rb:625:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShardMapping Create (2.9ms)[0m  [1m[32mINSERT INTO "shard_mappings" ("shard_name", "status", "pod_info", "region") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shard_name", "shard_1"], ["status", 206], ["pod_info", "us-east"], ["region", "us-east-1"]]
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShardMapping Create (10.0ms)[0m  [1m[32mINSERT INTO "shard_mappings" ("shard_name", "status", "pod_info", "region") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shard_name", "shard_1"], ["status", 206], ["pod_info", "us-east"], ["region", "us-east-1"]]
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShardMapping Create (8.5ms)[0m  [1m[32mINSERT INTO "shard_mappings" ("shard_name", "status", "pod_info", "region") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shard_name", "shard_1"], ["status", 206], ["pod_info", "us-east"], ["region", "us-east-1"]]
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (14.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShardMapping Create (12.3ms)[0m  [1m[32mINSERT INTO "shard_mappings" ("shard_name", "status", "pod_info", "region") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shard_name", "shard_1"], ["status", 206], ["pod_info", "us-east"], ["region", "us-east-1"]]
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."full_domain" = $1 LIMIT $2[0m  [["full_domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Create (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("id", "name", "full_domain", "time_zone", "contact_info", "created_at", "updated_at", "auth_secret") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "freshcare-stg"], ["full_domain", "renshiners.freshcare.com"], ["time_zone", "Chennai"], ["contact_info", "{\"first_name\":\"Ramkumar\",\"last_name\":\"Rajendran\",\"mobile\":\"9629978167\",\"email\":\"arj.ramkumar@gmail.com\"}"], ["created_at", "2024-12-02 06:49:48.122226"], ["updated_at", "2024-12-02 06:49:48.122226"], ["auth_secret", "f7fbd5a84c4805b1ea1faf9bbb25dc"]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model Agent
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."account_id" = $2 LIMIT $3[0m  [["email", "arj.ramkumar@gmail.com"], ["account_id", 1], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAgent Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "account_id", "type", "encrypted_password", "confirmed_at", "created_at", "updated_at", "other_info", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["email", "arj.ramkumar@gmail.com"], ["mobile", "9629978167"], ["account_id", 1], ["type", "Agent"], ["encrypted_password", "$2a$12$ML3ZOBG..ysyUCHJhSZJRe3aQYjhFyKoTLlO9keSnJkNqw6nRBxLO"], ["confirmed_at", "2024-12-02 06:49:48.126217"], ["created_at", "2024-12-02 06:49:48.141273"], ["updated_at", "2024-12-02 06:49:48.141273"], ["other_info", "{}"], ["first_name", "Ramkumar"], ["last_name", "Rajendran"]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
Query Trace:
      app/models/signup.rb:32:in `save'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-02 13:15:18 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.9ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 13ms (Views: 0.3ms | ActiveRecord: 3.9ms | Allocations: 4635)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShardMapping Create (1.2ms)[0m  [1m[32mINSERT INTO "shard_mappings" ("shard_name", "status", "pod_info", "region") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shard_name", "shard_1"], ["status", 206], ["pod_info", "us-east"], ["region", "us-east-1"]]
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."full_domain" = $1 LIMIT $2[0m  [["full_domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Create (11.4ms)[0m  [1m[32mINSERT INTO "accounts" ("id", "name", "full_domain", "time_zone", "contact_info", "created_at", "updated_at", "auth_secret") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 34], ["name", "freshcare-stg"], ["full_domain", "renshiners.freshcare.com"], ["time_zone", "Chennai"], ["contact_info", "{\"first_name\":\"Ramkumar\",\"last_name\":\"Rajendran\",\"mobile\":\"9629978167\",\"email\":\"arj.ramkumar@gmail.com\"}"], ["created_at", "2024-12-02 07:49:20.959124"], ["updated_at", "2024-12-02 07:49:20.959124"], ["auth_secret", "0f62c12947fe2b3cffef800d3de045"]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model Agent
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."account_id" = $2 LIMIT $3[0m  [["email", "arj.ramkumar@gmail.com"], ["account_id", 34], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAgent Create (2.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "account_id", "type", "encrypted_password", "confirmed_at", "created_at", "updated_at", "other_info", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["email", "arj.ramkumar@gmail.com"], ["mobile", "9629978167"], ["account_id", 34], ["type", "Agent"], ["encrypted_password", "$2a$12$9aVI4cbcNTZPtv3lTkR.F.1PMlfTWFnLMY2Jyxn8IRN7nbT2oPXai"], ["confirmed_at", "2024-12-02 07:49:20.973774"], ["created_at", "2024-12-02 07:49:20.984264"], ["updated_at", "2024-12-02 07:49:20.984264"], ["other_info", "{}"], ["first_name", "Ramkumar"], ["last_name", "Rajendran"]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
Query Trace:
      app/models/signup.rb:32:in `save'
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShardMapping Create (3.0ms)[0m  [1m[32mINSERT INTO "shard_mappings" ("shard_name", "status", "pod_info", "region") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shard_name", "shard_1"], ["status", 206], ["pod_info", "us-east"], ["region", "us-east-1"]]
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (12.0ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."full_domain" = $1 LIMIT $2[0m  [["full_domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("id", "name", "full_domain", "time_zone", "contact_info", "created_at", "updated_at", "auth_secret") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 35], ["name", "freshcare-stg"], ["full_domain", "renshiners.freshcare.com"], ["time_zone", "Chennai"], ["contact_info", "{\"first_name\":\"Ramkumar\",\"last_name\":\"Rajendran\",\"mobile\":\"9629978167\",\"email\":\"arj.ramkumar@gmail.com\"}"], ["created_at", "2024-12-02 08:06:19.673995"], ["updated_at", "2024-12-02 08:06:19.673995"], ["auth_secret", "f0ad2d38d24d18eeff31771941949e"]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model Agent
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."account_id" = $2 LIMIT $3[0m  [["email", "arj.ramkumar@gmail.com"], ["account_id", 35], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAgent Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "account_id", "type", "encrypted_password", "confirmed_at", "created_at", "updated_at", "other_info", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["email", "arj.ramkumar@gmail.com"], ["mobile", "9629978167"], ["account_id", 35], ["type", "Agent"], ["encrypted_password", "$2a$12$Rv5qLHfAsrGrL0KN1Duanu3IWeKVjuQL4iK7/mb53SWYjaa/Vsr4K"], ["confirmed_at", "2024-12-02 08:06:19.678297"], ["created_at", "2024-12-02 08:06:19.685344"], ["updated_at", "2024-12-02 08:06:19.685344"], ["other_info", "{}"], ["first_name", "Ramkumar"], ["last_name", "Rajendran"]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
Query Trace:
      app/models/signup.rb:32:in `save'
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-02 13:55:15 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.0ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 61ms (Views: 0.4ms | ActiveRecord: 15.6ms | Allocations: 5228)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInvoices (20241203051202)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "invoiceId" character varying, "clientId" character varying, "groupId" character varying, "regionId" character varying, "timePeriod" character varying, "durationtype" integer, "customizedCheckbox" integer, "ratePerMinute" decimal, "invoiceDate" timestamp(6), "account_id" integer, "grand_totalamount" decimal, "grand_total_minutes" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241203051202_create_invoices.rb:3:in `change'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInvoices (20241203051202)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "invoiceId" character varying, "clientId" character varying, "groupId" character varying, "regionId" character varying, "timePeriod" character varying, "durationtype" integer, "customizedCheckbox" integer, "ratePerMinute" decimal, "invoiceDate" timestamp(6), "account_id" integer, "grand_totalamount" decimal, "grand_total_minutes" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241203051202_create_invoices.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInvoices (20241203051202)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "invoiceId" character varying, "clientId" character varying, "groupId" character varying, "regionId" character varying, "timePeriod" character varying, "durationtype" integer, "customizedCheckbox" integer, "ratePerMinute" decimal, "invoiceDate" timestamp(6), "account_id" integer, "grand_totalamount" decimal, "grand_total_minutes" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241203051202_create_invoices.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "freshcare_development"[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInvoices (20241203051202)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "invoiceId" character varying, "clientId" character varying, "groupId" character varying, "regionId" character varying, "timePeriod" character varying, "durationtype" integer, "customizedCheckbox" integer, "ratePerMinute" decimal, "invoiceDate" timestamp(6), "account_id" integer, "grand_totalamount" decimal, "grand_total_minutes" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241203051202_create_invoices.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "freshcare_development"[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInvoices (20241203051202)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "invoiceId" character varying, "clientId" character varying, "groupId" character varying, "regionId" character varying, "timePeriod" character varying, "durationtype" integer, "customizedCheckbox" integer, "ratePerMinute" decimal, "invoiceDate" timestamp(6), "account_id" integer, "grand_totalamount" decimal, "grand_total_minutes" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241203051202_create_invoices.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInvoices (20241203051202)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "invoiceId" character varying, "clientId" character varying, "groupId" character varying, "regionId" character varying, "timePeriod" character varying, "durationtype" integer, "customizedCheckbox" integer, "ratePerMinute" decimal, "invoiceDate" timestamp(6), "account_id" integer, "grand_totalamount" decimal, "grand_total_minutes" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241203051202_create_invoices.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241121102628)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInvoices (20241203051202)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "invoiceId" character varying, "clientId" character varying, "groupId" character varying, "regionId" character varying, "timePeriod" character varying, "durationtype" integer, "customizedCheckbox" integer, "ratePerMinute" decimal, "invoiceDate" timestamp(6), "account_id" integer, "grand_totalamount" decimal, "grand_total_minutes" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241203051202_create_invoices.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "freshcare_development"[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "freshcare_development"[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInvoices (20241203051202)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "invoiceId" character varying, "clientId" character varying, "groupId" character varying, "regionId" character varying, "timePeriod" character varying, "durationtype" integer, "customizedCheckbox" integer, "ratePerMinute" decimal, "invoiceDate" timestamp(6), "account_id" integer, "grand_totalamount" decimal, "grand_total_minutes" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241203051202_create_invoices.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInvoices (20241203051202)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "invoiceId" character varying, "clientId" character varying, "groupId" character varying, "regionId" character varying, "timePeriod" character varying, "durationtype" integer, "customizedCheckbox" integer, "ratePerMinute" decimal, "invoiceDate" timestamp(6), "account_id" integer, "grand_totalamount" decimal, "grand_total_minutes" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241203051202_create_invoices.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241203051202"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInvoiceItems (20241203051218)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "invoice_items" ("id" bigserial primary key, "invoice_id" bigint NOT NULL, "date" date, "quantity" decimal, "description" character varying, "unitPrice" decimal, "amount" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_25bf3d2c5e"
FOREIGN KEY ("invoice_id")
  REFERENCES "invoices" ("id")
)[0m
Query Trace:
      db/migrate/20241203051218_create_invoice_items.rb:3:in `change'
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_invoice_items_on_invoice_id" ON "invoice_items" ("invoice_id")[0m
Query Trace:
      db/migrate/20241203051218_create_invoice_items.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241203051218"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSalaries (20241203065542)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "salaries" ("id" bigserial primary key, "salary_id" character varying, "carer_id" character varying, "group_id" character varying, "region_id" character varying, "time_period" character varying, "customized_checkbox" boolean, "account_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241203065542_create_salaries.rb:3:in `change'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalaries (20241203065542)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "salaries" ("id" bigserial primary key, "salary_id" character varying, "carer_id" character varying, "group_id" character varying, "region_id" character varying, "time_period" character varying, "customized_checkbox" boolean, "account_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241203065542_create_salaries.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241203065542"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241203130803)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE "salary_slab_inputs" ("id" bigserial primary key, "salary_id" bigint NOT NULL, "slab_id" character varying NOT NULL, "rate" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0fdadae9d9"
FOREIGN KEY ("salary_id")
  REFERENCES "salaries" ("id")
)[0m
Query Trace:
      db/migrate/20241203130803_create_salary_slab_inputs.rb:3:in `change'
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_salary_slab_inputs_on_salary_id" ON "salary_slab_inputs" ("salary_id")[0m
Query Trace:
      db/migrate/20241203130803_create_salary_slab_inputs.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241203130803"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241203131230)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "salary_slab_inputs" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241203131230_create_salary_slab_inputs.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241203131230)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "salary_slab_inputs" ("id" bigserial primary key, "salary_id" bigint NOT NULL, "slab_id" character varying NOT NULL, "rate" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0fdadae9d9"
FOREIGN KEY ("salary_id")
  REFERENCES "salaries" ("id")
)[0m
Query Trace:
      db/migrate/20241203131230_create_salary_slab_inputs.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShardMapping Create (2.1ms)[0m  [1m[32mINSERT INTO "shard_mappings" ("shard_name", "status", "pod_info", "region") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shard_name", "shard_1"], ["status", 206], ["pod_info", "us-east"], ["region", "us-east-1"]]
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."full_domain" = $1 LIMIT $2[0m  [["full_domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Create (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("id", "name", "full_domain", "time_zone", "contact_info", "created_at", "updated_at", "auth_secret") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 36], ["name", "freshcare-stg"], ["full_domain", "renshiners.freshcare.com"], ["time_zone", "Chennai"], ["contact_info", "{\"first_name\":\"Ramkumar\",\"last_name\":\"Rajendran\",\"mobile\":\"9629978167\",\"email\":\"arj.ramkumar@gmail.com\"}"], ["created_at", "2024-12-04 09:11:05.028338"], ["updated_at", "2024-12-04 09:11:05.028338"], ["auth_secret", "cd4ccbb07b9a1e313e4235112967f5"]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model Agent
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."account_id" = $2 LIMIT $3[0m  [["email", "arj.ramkumar@gmail.com"], ["account_id", 36], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAgent Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "account_id", "type", "encrypted_password", "confirmed_at", "created_at", "updated_at", "other_info", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["email", "arj.ramkumar@gmail.com"], ["mobile", "9629978167"], ["account_id", 36], ["type", "Agent"], ["encrypted_password", "$2a$12$r1HpjEEPsarXueUKNen/hOvaMr9dh.OM7n0IZXjYJUHa./yQ8anye"], ["confirmed_at", "2024-12-04 09:11:05.031206"], ["created_at", "2024-12-04 09:11:05.040721"], ["updated_at", "2024-12-04 09:11:05.040721"], ["other_info", "{}"], ["first_name", "Ramkumar"], ["last_name", "Rajendran"]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model DomainMapping
  [1m[36mDomainMapping Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mShardMapping Load (0.4ms)[0m  [1m[34mSELECT "shard_mappings".* FROM "shard_mappings" WHERE "shard_mappings"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mDomainMapping Create (0.6ms)[0m  [1m[32mINSERT INTO "domain_mappings" ("account_id", "domain") VALUES ($1, $2) RETURNING "account_id"[0m  [["account_id", 36], ["domain", "renshiners.freshcare.com"]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mShardMapping Update (0.4ms)[0m  [1m[33mUPDATE "shard_mappings" SET "status" = $1 WHERE "shard_mappings"."id" = $2[0m  [["status", 200], ["id", 36]]
Query Trace:
      app/models/signup.rb:49:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegion Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "regions" WHERE "regions"."name" = $1 AND "regions"."account_id" = $2 LIMIT $3[0m  [["name", "Default"], ["account_id", 36], ["LIMIT", 1]]
Query Trace:
      lib/populate_account_seed.rb:27:in `create_default_region'
      lib/populate_account_seed.rb:5:in `populate_for'
      app/models/signup.rb:58:in `populate_seed_data'
      app/models/signup.rb:53:in `save'
  [1m[36mRegion Create (1.1ms)[0m  [1m[32mINSERT INTO "regions" ("account_id", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["account_id", 36], ["name", "Default"], ["created_at", "2024-12-04 09:11:05.078982"], ["updated_at", "2024-12-04 09:11:05.078982"]]
Query Trace:
      lib/populate_account_seed.rb:27:in `create_default_region'
      lib/populate_account_seed.rb:5:in `populate_for'
      app/models/signup.rb:58:in `populate_seed_data'
      app/models/signup.rb:53:in `save'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-04 14:49:40 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (6.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20241203144414_create_salary_slab_inputs.rb


):
  
activerecord (7.0.8.4) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8.4) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8.4) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8.4) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/railtie.rb:80)
Started GET "//users/sign_in/" for 127.0.0.1 at 2024-12-04 14:50:06 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (3.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20241203144414_create_salary_slab_inputs.rb


):
  
activerecord (7.0.8.4) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8.4) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8.4) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8.4) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
Started GET "//users/sign_in/" for 127.0.0.1 at 2024-12-04 14:52:09 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (166.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20241203144414_create_salary_slab_inputs.rb


):
  
activerecord (7.0.8.4) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8.4) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8.4) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8.4) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-04 14:52:33 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20241203144414_create_salary_slab_inputs.rb


):
  
activerecord (7.0.8.4) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8.4) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8.4) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8.4) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241203144414)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE TABLE "salary_slab_inputs" ("id" bigserial primary key, "salary_id" bigint NOT NULL, "slab_id" character varying NOT NULL, "rate" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0fdadae9d9"
FOREIGN KEY ("salary_id")
  REFERENCES "salaries" ("id")
)[0m
Query Trace:
      db/migrate/20241203144414_create_salary_slab_inputs.rb:3:in `change'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241203144414)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "salary_slab_inputs" ("id" bigserial primary key, "salary_id" bigint NOT NULL, "slab_id" character varying NOT NULL, "rate" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0fdadae9d9"
FOREIGN KEY ("salary_id")
  REFERENCES "salaries" ("id")
)[0m
Query Trace:
      db/migrate/20241203144414_create_salary_slab_inputs.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241203144414)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "salary_slab_inputs" ("id" bigserial primary key, "salary_id" bigint NOT NULL, "slab_id" character varying NOT NULL, "rate" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0fdadae9d9"
FOREIGN KEY ("salary_id")
  REFERENCES "salaries" ("id")
)[0m
Query Trace:
      db/migrate/20241203144414_create_salary_slab_inputs.rb:3:in `change'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-04 15:12:04 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20241203144414_create_salary_slab_inputs.rb


):
  
activerecord (7.0.8.4) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8.4) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8.4) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8.4) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241203144414)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "salary_slab_inputs" ("id" bigserial primary key, "salary_id" bigint NOT NULL, "slab_id" character varying NOT NULL, "rate" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0fdadae9d9"
FOREIGN KEY ("salary_id")
  REFERENCES "salaries" ("id")
)[0m
Query Trace:
      db/migrate/20241203144414_create_salary_slab_inputs.rb:3:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (26.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (7.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241203144414)
  [1m[36mTRANSACTION (23.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (118.9ms)[0m  [1m[35mCREATE TABLE "salary_slab_inputs" ("id" bigserial primary key, "salary_id" bigint NOT NULL, "slab_id" character varying NOT NULL, "rate" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0fdadae9d9"
FOREIGN KEY ("salary_id")
  REFERENCES "salaries" ("id")
)[0m
Query Trace:
      db/migrate/20241203144414_create_salary_slab_inputs.rb:3:in `change'
  [1m[36mTRANSACTION (23.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (52.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-04 15:23:40 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20241203144414_create_salary_slab_inputs.rb


):
  
activerecord (7.0.8.4) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8.4) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8.4) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8.4) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-04 15:23:52 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20241203144414_create_salary_slab_inputs.rb


):
  
activerecord (7.0.8.4) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8.4) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8.4) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8.4) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-04 15:24:00 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20241203144414_create_salary_slab_inputs.rb


):
  
activerecord (7.0.8.4) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8.4) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8.4) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8.4) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241203144414)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "salary_slab_inputs" ("id" bigserial primary key, "salary_id" bigint NOT NULL, "slab_id" character varying NOT NULL, "rate" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0fdadae9d9"
FOREIGN KEY ("salary_id")
  REFERENCES "salaries" ("id")
)[0m
Query Trace:
      db/migrate/20241203144414_create_salary_slab_inputs.rb:3:in `change'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (1.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241203144414)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE "salary_slab_inputs" ("id" bigserial primary key, "salary_id" bigint NOT NULL, "slab_id" character varying NOT NULL, "rate" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0fdadae9d9"
FOREIGN KEY ("salary_id")
  REFERENCES "salaries" ("id")
)[0m
Query Trace:
      db/migrate/20241203144414_create_salary_slab_inputs.rb:3:in `change'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (28.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241203144414)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (46.1ms)[0m  [1m[35mCREATE TABLE "salary_slab_inputs" ("id" bigserial primary key, "salary_id" bigint NOT NULL, "slab_id" character varying NOT NULL, "rate" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0fdadae9d9"
FOREIGN KEY ("salary_id")
  REFERENCES "salaries" ("id")
)[0m
Query Trace:
      db/migrate/20241203144414_create_salary_slab_inputs.rb:3:in `change'
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (20.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-04 16:13:10 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20241203144414_create_salary_slab_inputs.rb


):
  
activerecord (7.0.8.4) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8.4) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8.4) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8.4) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-04 17:48:24 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20241203144414_create_salary_slab_inputs.rb


):
  
activerecord (7.0.8.4) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8.4) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8.4) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8.4) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8.4) lib/active_record/migration.rb:624:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8.4) lib/rails/rack/logger.rb:25:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/runtime.rb:22:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
activesupport (7.0.8.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/static.rb:23:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack (2.2.9) lib/rack/sendfile.rb:110:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
actionpack (7.0.8.4) lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
railties (7.0.8.4) lib/rails/engine.rb:530:in `call'
newrelic_rpm (9.11.0) lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'
puma (6.2.0) lib/puma/configuration.rb:270:in `call'
puma (6.2.0) lib/puma/request.rb:98:in `block in handle_request'
puma (6.2.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (6.2.0) lib/puma/request.rb:97:in `handle_request'
puma (6.2.0) lib/puma/server.rb:431:in `process_client'
puma (6.2.0) lib/puma/server.rb:233:in `block in run'
puma (6.2.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'
newrelic_rpm (9.11.0) lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241203144414)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "salary_slab_inputs" ("id" bigserial primary key, "salary_id" bigint NOT NULL, "slab_id" character varying NOT NULL, "rate" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0fdadae9d9"
FOREIGN KEY ("salary_id")
  REFERENCES "salaries" ("id")
)[0m
Query Trace:
      db/migrate/20241203144414_create_salary_slab_inputs.rb:3:in `change'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSalarySlabInputs (20241203144414)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "salary_slab_inputs" ("id" bigserial primary key, "salary_id" bigint NOT NULL, "slab_id" character varying NOT NULL, "rate" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0fdadae9d9"
FOREIGN KEY ("salary_id")
  REFERENCES "salaries" ("id")
)[0m
Query Trace:
      db/migrate/20241203144414_create_salary_slab_inputs.rb:3:in `change'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241203144414"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-04 18:15:19 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (2.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 36], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (5.5ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "bee9321f-3d3a-4f86-9226-85dd59c3e60c"], ["exp", "2024-12-11 12:45:20"], ["account_id", 36], ["user_id", 1], ["created_at", "2024-12-04 12:45:20.378906"], ["updated_at", "2024-12-04 12:45:20.378906"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2024-12-04 12:45:20.395690"], ["last_sign_in_at", "2024-12-04 12:45:20.395690"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2024-12-04 12:45:20.396235"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (2.7ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 36], ["account_id", 36], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 603ms (Views: 3.1ms | ActiveRecord: 64.3ms | Allocations: 85392)


Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-04 18:15:46 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 36], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (0.5ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "84692f8b-1a32-4e97-a388-a10bef86fbf5"], ["exp", "2024-12-11 12:45:46"], ["account_id", 36], ["user_id", 1], ["created_at", "2024-12-04 12:45:46.533838"], ["updated_at", "2024-12-04 12:45:46.533838"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["sign_in_count", 2], ["current_sign_in_at", "2024-12-04 12:45:46.541898"], ["updated_at", "2024-12-04 12:45:46.542286"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (0.7ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 36], ["account_id", 36], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 269ms (Views: 0.3ms | ActiveRecord: 6.4ms | Allocations: 18843)


Started GET "//holidays" for 127.0.0.1 at 2024-12-04 18:16:29 +0530
Started GET "//appointments" for 127.0.0.1 at 2024-12-04 18:16:29 +0530
Started GET "//agents" for 127.0.0.1 at 2024-12-04 18:16:29 +0530
Started GET "//clients" for 127.0.0.1 at 2024-12-04 18:16:29 +0530
Started GET "//regions" for 127.0.0.1 at 2024-12-04 18:16:29 +0530
Processing by HolidaysController#index as HTML
Processing by AgentsController#index as HTML
  Parameters: {"holiday"=>{}}
  Parameters: {"agent"=>{}}
  [1m[36mDomainMapping Load (10.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (3.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 36], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 36], ["user_id", 1], ["jti", "84692f8b-1a32-4e97-a388-a10bef86fbf5"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 3], ["current_sign_in_at", "2024-12-04 12:46:29.207016"], ["last_sign_in_at", "2024-12-04 12:45:46.541898"], ["updated_at", "2024-12-04 12:46:29.207617"], ["id", 1]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 69ms (Views: 0.4ms | ActiveRecord: 32.1ms | Allocations: 20503)


Processing by AppointmentsController#index as HTML
  Parameters: {"appointment"=>{}}
Processing by ClientsController#index as HTML
  Parameters: {"client"=>{}}
  [1m[36mDomainMapping Load (5.4ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  [1m[36mDomainMapping Load (2.3ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  [1m[36mDomainMapping Load (7.0ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (11.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mAccount Load (5.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mAccount Load (5.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (9.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 36], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (2.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 36], ["user_id", 1], ["jti", "84692f8b-1a32-4e97-a388-a10bef86fbf5"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 36], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 36], ["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mAllowlistedJwt Exists? (8.3ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 36], ["user_id", 1], ["jti", "84692f8b-1a32-4e97-a388-a10bef86fbf5"], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (4.3ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 36], ["user_id", 1], ["jti", "84692f8b-1a32-4e97-a388-a10bef86fbf5"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mAgent Update (3.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 4], ["current_sign_in_at", "2024-12-04 12:46:29.355634"], ["last_sign_in_at", "2024-12-04 12:46:29.207016"], ["updated_at", "2024-12-04 12:46:29.356255"], ["id", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mBEGIN[0m
Unauthorized - FC Authority
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mBEGIN[0m
Completed 401 Unauthorized in 113ms (Views: 0.2ms | ActiveRecord: 42.0ms | Allocations: 30656)


  [1m[36mAgent Update (34.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 4], ["current_sign_in_at", "2024-12-04 12:46:29.372543"], ["last_sign_in_at", "2024-12-04 12:46:29.207016"], ["updated_at", "2024-12-04 12:46:29.373110"], ["id", 1]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAgent Update (13.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 4], ["current_sign_in_at", "2024-12-04 12:46:29.376213"], ["last_sign_in_at", "2024-12-04 12:46:29.207016"], ["updated_at", "2024-12-04 12:46:29.376838"], ["id", 1]]
Unauthorized - FC Authority
Completed 401 Unauthorized in 271ms (Views: 0.2ms | ActiveRecord: 99.4ms | Allocations: 64074)


  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 186ms (Views: 0.4ms | ActiveRecord: 84.0ms | Allocations: 44711)


Processing by RegionsController#index as HTML
  Parameters: {"region"=>{}}
  [1m[36mDomainMapping Load (0.9ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Started GET "//groups" for 127.0.0.1 at 2024-12-04 18:16:29 +0530
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 36], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 36], ["user_id", 1], ["jti", "84692f8b-1a32-4e97-a388-a10bef86fbf5"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 5], ["current_sign_in_at", "2024-12-04 12:46:29.497876"], ["last_sign_in_at", "2024-12-04 12:46:29.376213"], ["updated_at", "2024-12-04 12:46:29.498275"], ["id", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 47ms (Views: 0.2ms | ActiveRecord: 126.1ms | Allocations: 13251)


Processing by GroupsController#index as HTML
  Parameters: {"group"=>{}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 36], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 36], ["user_id", 1], ["jti", "84692f8b-1a32-4e97-a388-a10bef86fbf5"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 6], ["current_sign_in_at", "2024-12-04 12:46:29.560874"], ["last_sign_in_at", "2024-12-04 12:46:29.497876"], ["updated_at", "2024-12-04 12:46:29.561228"], ["id", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 27ms (Views: 0.2ms | ActiveRecord: 6.3ms | Allocations: 12459)


Started GET "//appointments" for 127.0.0.1 at 2024-12-04 18:16:40 +0530
Started GET "//agents" for 127.0.0.1 at 2024-12-04 18:16:40 +0530
Started GET "//clients" for 127.0.0.1 at 2024-12-04 18:16:40 +0530
Started GET "//regions" for 127.0.0.1 at 2024-12-04 18:16:40 +0530
Started GET "//holidays" for 127.0.0.1 at 2024-12-04 18:16:40 +0530
Processing by AppointmentsController#index as HTML
  Parameters: {"appointment"=>{}}
Processing by RegionsController#index as HTML
  Parameters: {"region"=>{}}
  [1m[36mDomainMapping Load (1.1ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  [1m[36mDomainMapping Load (2.0ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Processing by AgentsController#index as HTML
  [1m[36mAccount Load (3.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  Parameters: {"agent"=>{}}
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  [1m[36mAccount Load (2.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 36], ["id", 1], ["LIMIT", 1]]
  [1m[36mDomainMapping Load (2.2ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 36], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 36], ["user_id", 1], ["jti", "84692f8b-1a32-4e97-a388-a10bef86fbf5"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
Processing by ClientsController#index as HTML
  [1m[36mAllowlistedJwt Exists? (5.9ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 36], ["user_id", 1], ["jti", "84692f8b-1a32-4e97-a388-a10bef86fbf5"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  Parameters: {"client"=>{}}
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mAccount Load (6.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mDomainMapping Load (8.4ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (6.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 7], ["current_sign_in_at", "2024-12-04 12:46:40.523689"], ["last_sign_in_at", "2024-12-04 12:46:29.560874"], ["updated_at", "2024-12-04 12:46:40.524010"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mUser Load (8.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 36], ["id", 1], ["LIMIT", 1]]
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAgent Update (13.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 7], ["current_sign_in_at", "2024-12-04 12:46:40.532824"], ["last_sign_in_at", "2024-12-04 12:46:29.560874"], ["updated_at", "2024-12-04 12:46:40.533254"], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mCOMMIT[0m
Processing by HolidaysController#index as HTML
Unauthorized - FC Authority
  [1m[36mAllowlistedJwt Exists? (26.5ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 36], ["user_id", 1], ["jti", "84692f8b-1a32-4e97-a388-a10bef86fbf5"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAccount Load (23.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
Unauthorized - FC Authority
  Parameters: {"holiday"=>{}}
Completed 401 Unauthorized in 103ms (Views: 0.2ms | ActiveRecord: 31.7ms | Allocations: 32599)


  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
Completed 401 Unauthorized in 103ms (Views: 0.1ms | ActiveRecord: 40.2ms | Allocations: 34266)


Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mUser Load (5.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 36], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAllowlistedJwt Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 36], ["user_id", 1], ["jti", "84692f8b-1a32-4e97-a388-a10bef86fbf5"], ["LIMIT", 1]]
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 7], ["current_sign_in_at", "2024-12-04 12:46:40.607382"], ["last_sign_in_at", "2024-12-04 12:46:29.560874"], ["updated_at", "2024-12-04 12:46:40.608186"], ["id", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 145ms (Views: 0.2ms | ActiveRecord: 55.5ms | Allocations: 45597)


  [1m[36mAgent Update (3.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 8], ["current_sign_in_at", "2024-12-04 12:46:40.629997"], ["last_sign_in_at", "2024-12-04 12:46:40.532824"], ["updated_at", "2024-12-04 12:46:40.630761"], ["id", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 121ms (Views: 0.1ms | ActiveRecord: 45.8ms | Allocations: 37151)


  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 36], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 36], ["user_id", 1], ["jti", "84692f8b-1a32-4e97-a388-a10bef86fbf5"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 9], ["current_sign_in_at", "2024-12-04 12:46:40.684021"], ["last_sign_in_at", "2024-12-04 12:46:40.629997"], ["updated_at", "2024-12-04 12:46:40.684325"], ["id", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 108ms (Views: 0.1ms | ActiveRecord: 18.6ms | Allocations: 34542)


Started GET "//groups" for 127.0.0.1 at 2024-12-04 18:16:40 +0530
Processing by GroupsController#index as HTML
  Parameters: {"group"=>{}}
  [1m[36mDomainMapping Load (1.1ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 36], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 36], ["user_id", 1], ["jti", "84692f8b-1a32-4e97-a388-a10bef86fbf5"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 10], ["current_sign_in_at", "2024-12-04 12:46:40.834644"], ["last_sign_in_at", "2024-12-04 12:46:40.684021"], ["updated_at", "2024-12-04 12:46:40.835333"], ["id", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 44ms (Views: 0.1ms | ActiveRecord: 6.1ms | Allocations: 12187)


Started GET "//holidays" for 127.0.0.1 at 2024-12-04 18:36:29 +0530
Processing by HolidaysController#index as HTML
  Parameters: {"holiday"=>{}}
  [1m[36mDomainMapping Load (0.9ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 36], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 36], ["user_id", 1], ["jti", "84692f8b-1a32-4e97-a388-a10bef86fbf5"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 11], ["current_sign_in_at", "2024-12-04 13:06:29.141505"], ["last_sign_in_at", "2024-12-04 12:46:40.834644"], ["updated_at", "2024-12-04 13:06:29.141987"], ["id", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 127ms (Views: 1.4ms | ActiveRecord: 27.0ms | Allocations: 16121)


Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-04 18:37:33 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (3.9ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 36], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (1.7ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "b709d15e-fe3c-4fdd-be8e-0be3b7fd3eba"], ["exp", "2024-12-11 13:07:33"], ["account_id", 36], ["user_id", 1], ["created_at", "2024-12-04 13:07:33.851804"], ["updated_at", "2024-12-04 13:07:33.851804"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 12], ["current_sign_in_at", "2024-12-04 13:07:33.862328"], ["last_sign_in_at", "2024-12-04 13:06:29.141505"], ["updated_at", "2024-12-04 13:07:33.862705"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (2.8ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 36], ["account_id", 36], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 306ms (Views: 0.4ms | ActiveRecord: 14.3ms | Allocations: 18831)


Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-04 18:37:48 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (9.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 36], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (2.2ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "b8cc2b8d-c659-441e-bc12-95d1dea2efd8"], ["exp", "2024-12-11 13:07:48"], ["account_id", 36], ["user_id", 1], ["created_at", "2024-12-04 13:07:48.482302"], ["updated_at", "2024-12-04 13:07:48.482302"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 13], ["current_sign_in_at", "2024-12-04 13:07:48.492187"], ["last_sign_in_at", "2024-12-04 13:07:33.862328"], ["updated_at", "2024-12-04 13:07:48.492550"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (0.9ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 36], ["account_id", 36], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 333ms (Views: 0.3ms | ActiveRecord: 19.1ms | Allocations: 18807)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-05 13:12:18 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (3.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (2.3ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 36], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (5.2ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "8819c25f-9fd8-408f-9194-1aeb63b42585"], ["exp", "2024-12-12 07:42:19"], ["account_id", 36], ["user_id", 1], ["created_at", "2024-12-05 07:42:19.575766"], ["updated_at", "2024-12-05 07:42:19.575766"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 14], ["current_sign_in_at", "2024-12-05 07:42:19.595065"], ["last_sign_in_at", "2024-12-04 13:07:48.492187"], ["updated_at", "2024-12-05 07:42:19.595937"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (3.9ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 36], ["account_id", 36], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (2.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 695ms (Views: 0.6ms | ActiveRecord: 70.0ms | Allocations: 83605)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShardMapping Create (3.1ms)[0m  [1m[32mINSERT INTO "shard_mappings" ("shard_name", "status", "pod_info", "region") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shard_name", "shard_1"], ["status", 206], ["pod_info", "us-east"], ["region", "us-east-1"]]
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (6.4ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."full_domain" = $1 LIMIT $2[0m  [["full_domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Create (5.4ms)[0m  [1m[32mINSERT INTO "accounts" ("id", "name", "full_domain", "time_zone", "contact_info", "created_at", "updated_at", "auth_secret") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 37], ["name", "freshcare-stg"], ["full_domain", "renshiners.freshcare.com"], ["time_zone", "Chennai"], ["contact_info", "{\"first_name\":\"Ramkumar\",\"last_name\":\"Rajendran\",\"mobile\":\"9629978167\",\"email\":\"arj.ramkumar@gmail.com\"}"], ["created_at", "2024-12-05 09:27:13.322765"], ["updated_at", "2024-12-05 09:27:13.322765"], ["auth_secret", "05615003b50092651ff312c4dc735a"]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model Agent
  [1m[36mUser Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."account_id" = $2 LIMIT $3[0m  [["email", "arj.ramkumar@gmail.com"], ["account_id", 37], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[31mROLLBACK[0m
Query Trace:
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (3.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (17.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShardMapping Create (11.4ms)[0m  [1m[32mINSERT INTO "shard_mappings" ("shard_name", "status", "pod_info", "region") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shard_name", "shard_1"], ["status", 206], ["pod_info", "us-east"], ["region", "us-east-1"]]
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."full_domain" = $1 LIMIT $2[0m  [["full_domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Create (1.4ms)[0m  [1m[32mINSERT INTO "accounts" ("id", "name", "full_domain", "time_zone", "contact_info", "created_at", "updated_at", "auth_secret") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 38], ["name", "freshcare-stg"], ["full_domain", "renshiners.freshcare.com"], ["time_zone", "Chennai"], ["contact_info", "{\"first_name\":\"Ramkumar\",\"last_name\":\"Rajendran\",\"mobile\":\"9629978167\",\"email\":\"arj.ramkumar@gmail.com\"}"], ["created_at", "2024-12-05 09:45:17.653654"], ["updated_at", "2024-12-05 09:45:17.653654"], ["auth_secret", "6b9780fd17a186e49376131734fde8"]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model Agent
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (1.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."account_id" = $2 LIMIT $3[0m  [["email", "arj.ramkumar@gmail.com"], ["account_id", 38], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAgent Create (5.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "account_id", "type", "encrypted_password", "confirmed_at", "created_at", "updated_at", "other_info", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["email", "arj.ramkumar@gmail.com"], ["mobile", "9629978167"], ["account_id", 38], ["type", "Agent"], ["encrypted_password", "$2a$12$DRqthOYaDouZgDT4KGcPX.Sy4Jwmosu7sU2U.Vt2UpaArz/A6Mt4e"], ["confirmed_at", "2024-12-05 09:45:17.659159"], ["created_at", "2024-12-05 09:45:17.673060"], ["updated_at", "2024-12-05 09:45:17.673060"], ["other_info", "{}"], ["first_name", "Ramkumar"], ["last_name", "Rajendran"]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model DomainMapping
  [1m[36mDomainMapping Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mShardMapping Load (0.8ms)[0m  [1m[34mSELECT "shard_mappings".* FROM "shard_mappings" WHERE "shard_mappings"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
Query Trace:
      app/models/signup.rb:32:in `save'
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-05 15:15:51 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (3.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (4.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
undefined method `make_current' for nil
["/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:69:in `retrieve_current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:17:in `current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:56:in `set_current_account'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:400:in `block in make_lambda'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:200:in `block in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `block in invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:106:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `block in instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/base.rb:151:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionview-7.0.8.4/lib/action_view/rendering.rb:39:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:188:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:251:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:48:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/builder.rb:244:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/bullet-7.1.6/lib/bullet/rack.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:266:in `context'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:260:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/etag.rb:27:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/conditional_get.rb:40:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/head.rb:12:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/migration.rb:638:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:40:in `call_app'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:37:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/runtime.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/static.rb:23:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/sendfile.rb:110:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/host_authorization.rb:131:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/engine.rb:530:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 536ms (Views: 0.8ms | ActiveRecord: 55.5ms | Allocations: 9495)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShardMapping Create (2.4ms)[0m  [1m[32mINSERT INTO "shard_mappings" ("shard_name", "status", "pod_info", "region") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shard_name", "shard_1"], ["status", 206], ["pod_info", "us-east"], ["region", "us-east-1"]]
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."full_domain" = $1 LIMIT $2[0m  [["full_domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Create (1.4ms)[0m  [1m[32mINSERT INTO "accounts" ("id", "name", "full_domain", "time_zone", "contact_info", "created_at", "updated_at", "auth_secret") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 39], ["name", "freshcare-stg"], ["full_domain", "renshiners.freshcare.com"], ["time_zone", "Chennai"], ["contact_info", "{\"first_name\":\"Ramkumar\",\"last_name\":\"Rajendran\",\"mobile\":\"9629978167\",\"email\":\"arj.ramkumar@gmail.com\"}"], ["created_at", "2024-12-05 11:01:31.926784"], ["updated_at", "2024-12-05 11:01:31.926784"], ["auth_secret", "c9b1f40ad2129695a2bbb1564b1af4"]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model Agent
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."account_id" = $2 LIMIT $3[0m  [["email", "arj.ramkumar@gmail.com"], ["account_id", 39], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAgent Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "account_id", "type", "encrypted_password", "confirmed_at", "created_at", "updated_at", "other_info", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["email", "arj.ramkumar@gmail.com"], ["mobile", "9629978167"], ["account_id", 39], ["type", "Agent"], ["encrypted_password", "$2a$12$cl5YEbM7Zn25tnYNIi5lSO2KnN4roT3z5JziSy8lpgqFSREjwNu6S"], ["confirmed_at", "2024-12-05 11:01:31.930540"], ["created_at", "2024-12-05 11:01:31.940456"], ["updated_at", "2024-12-05 11:01:31.940456"], ["other_info", "{}"], ["first_name", "Ramkumar"], ["last_name", "Rajendran"]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model DomainMapping
  [1m[36mDomainMapping Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mShardMapping Load (0.3ms)[0m  [1m[34mSELECT "shard_mappings".* FROM "shard_mappings" WHERE "shard_mappings"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
Query Trace:
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (2.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-05 16:34:58 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
undefined method `make_current' for nil
["/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:69:in `retrieve_current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:17:in `current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:56:in `set_current_account'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:400:in `block in make_lambda'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:200:in `block in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `block in invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:106:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `block in instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/base.rb:151:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionview-7.0.8.4/lib/action_view/rendering.rb:39:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:188:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:251:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:48:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/builder.rb:244:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/bullet-7.1.6/lib/bullet/rack.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:266:in `context'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:260:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/etag.rb:27:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/conditional_get.rb:40:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/head.rb:12:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/migration.rb:638:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:40:in `call_app'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:37:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/runtime.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/static.rb:23:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/sendfile.rb:110:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/host_authorization.rb:131:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/engine.rb:530:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 58ms (Views: 0.3ms | ActiveRecord: 16.4ms | Allocations: 16443)


Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-05 16:35:20 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (18.0ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
undefined method `make_current' for nil
["/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:69:in `retrieve_current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:17:in `current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:56:in `set_current_account'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:400:in `block in make_lambda'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:200:in `block in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `block in invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:106:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `block in instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/base.rb:151:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionview-7.0.8.4/lib/action_view/rendering.rb:39:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:188:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:251:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:48:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/builder.rb:244:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/bullet-7.1.6/lib/bullet/rack.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:266:in `context'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:260:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/etag.rb:27:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/conditional_get.rb:40:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/head.rb:12:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/migration.rb:638:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:40:in `call_app'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:37:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/runtime.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/static.rb:23:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/sendfile.rb:110:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/host_authorization.rb:131:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/engine.rb:530:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 83ms (Views: 1.5ms | ActiveRecord: 18.7ms | Allocations: 3758)


Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-05 16:37:06 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (15.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
undefined method `make_current' for nil
["/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:69:in `retrieve_current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:17:in `current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:56:in `set_current_account'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:400:in `block in make_lambda'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:200:in `block in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `block in invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:106:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `block in instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/base.rb:151:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionview-7.0.8.4/lib/action_view/rendering.rb:39:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:188:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:251:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:48:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/builder.rb:244:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/bullet-7.1.6/lib/bullet/rack.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:266:in `context'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:260:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/etag.rb:27:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/conditional_get.rb:40:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/head.rb:12:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/migration.rb:638:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:40:in `call_app'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:37:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/runtime.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/static.rb:23:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/sendfile.rb:110:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/host_authorization.rb:131:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/engine.rb:530:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 85ms (Views: 1.0ms | ActiveRecord: 16.7ms | Allocations: 3754)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-09 11:14:03 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
undefined method `make_current' for nil
["/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:69:in `retrieve_current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:17:in `current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:56:in `set_current_account'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:400:in `block in make_lambda'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:200:in `block in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `block in invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:106:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `block in instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/base.rb:151:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionview-7.0.8.4/lib/action_view/rendering.rb:39:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:188:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:251:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:48:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/builder.rb:244:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/bullet-7.1.6/lib/bullet/rack.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:266:in `context'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:260:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/etag.rb:27:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/conditional_get.rb:40:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/head.rb:12:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/migration.rb:638:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:40:in `call_app'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:37:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/runtime.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/static.rb:23:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/sendfile.rb:110:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/host_authorization.rb:131:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/engine.rb:530:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 58ms (Views: 0.4ms | ActiveRecord: 22.1ms | Allocations: 16438)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-09 11:45:20 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (3.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.3ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
undefined method `make_current' for nil
["/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:69:in `retrieve_current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:17:in `current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:56:in `set_current_account'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:400:in `block in make_lambda'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:200:in `block in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `block in invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:106:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `block in instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/base.rb:151:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionview-7.0.8.4/lib/action_view/rendering.rb:39:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:188:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:251:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:48:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/builder.rb:244:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/bullet-7.1.6/lib/bullet/rack.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:266:in `context'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:260:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/etag.rb:27:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/conditional_get.rb:40:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/head.rb:12:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/migration.rb:638:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:40:in `call_app'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:37:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/runtime.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/static.rb:23:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/sendfile.rb:110:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/host_authorization.rb:131:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/engine.rb:530:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 43ms (Views: 0.3ms | ActiveRecord: 12.0ms | Allocations: 16438)


Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-09 11:49:46 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
undefined method `make_current' for nil
["/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:69:in `retrieve_current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:17:in `current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:56:in `set_current_account'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:400:in `block in make_lambda'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:200:in `block in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `block in invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:106:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `block in instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/base.rb:151:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionview-7.0.8.4/lib/action_view/rendering.rb:39:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:188:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:251:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:48:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/builder.rb:244:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/bullet-7.1.6/lib/bullet/rack.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:266:in `context'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:260:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/etag.rb:27:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/conditional_get.rb:40:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/head.rb:12:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/migration.rb:638:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:40:in `call_app'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:37:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/runtime.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/static.rb:23:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/sendfile.rb:110:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/host_authorization.rb:131:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/engine.rb:530:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 40ms (Views: 1.2ms | ActiveRecord: 1.4ms | Allocations: 3757)


Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-09 11:54:00 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
undefined method `make_current' for nil
["/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:69:in `retrieve_current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:17:in `current_account'", "/home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:56:in `set_current_account'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:400:in `block in make_lambda'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:200:in `block in halting'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `block in invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:595:in `invoke_before'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:106:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `block in instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/notifications.rb:206:in `instrument'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/abstract_controller/base.rb:151:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionview-7.0.8.4/lib/action_view/rendering.rb:39:in `process'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:188:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_controller/metal.rb:251:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/mapper.rb:48:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `each'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/journey/router.rb:32:in `serve'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/builder.rb:244:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/bullet-7.1.6/lib/bullet/rack.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:266:in `context'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/session/abstract/id.rb:260:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/etag.rb:27:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/conditional_get.rb:40:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/head.rb:12:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activerecord-7.0.8.4/lib/active_record/migration.rb:638:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:40:in `call_app'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `block in call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:37:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/tagged_logging.rb:99:in `tagged'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/rack/logger.rb:25:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/runtime.rb:22:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/activesupport-7.0.8.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/static.rb:23:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-2.2.9/lib/rack/sendfile.rb:110:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionpack-7.0.8.4/lib/action_dispatch/middleware/host_authorization.rb:131:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/railties-7.0.8.4/lib/rails/engine.rb:530:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/home/alageswaran/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/newrelic_rpm-9.11.0/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 22ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 3754)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/app/controllers/application_controller.rb:1)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShardMapping Create (2.3ms)[0m  [1m[32mINSERT INTO "shard_mappings" ("shard_name", "status", "pod_info", "region") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shard_name", "shard_1"], ["status", 206], ["pod_info", "us-east"], ["region", "us-east-1"]]
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (11.4ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."full_domain" = $1 LIMIT $2[0m  [["full_domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Create (1.1ms)[0m  [1m[32mINSERT INTO "accounts" ("id", "name", "full_domain", "time_zone", "contact_info", "created_at", "updated_at", "auth_secret") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 40], ["name", "freshcare-stg"], ["full_domain", "renshiners.freshcare.com"], ["time_zone", "Chennai"], ["contact_info", "{\"first_name\":\"Ramkumar\",\"last_name\":\"Rajendran\",\"mobile\":\"9629978167\",\"email\":\"arj.ramkumar@gmail.com\"}"], ["created_at", "2024-12-09 06:50:12.195667"], ["updated_at", "2024-12-09 06:50:12.195667"], ["auth_secret", "8b1c994d0e0ecb1e6560e6f907ce85"]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model Agent
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."account_id" = $2 LIMIT $3[0m  [["email", "arj.ramkumar@gmail.com"], ["account_id", 40], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAgent Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "account_id", "type", "encrypted_password", "confirmed_at", "created_at", "updated_at", "other_info", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["email", "arj.ramkumar@gmail.com"], ["mobile", "9629978167"], ["account_id", 40], ["type", "Agent"], ["encrypted_password", "$2a$12$uZkDlsAzWMfMoAHp5htAaeca8OgZ9asfGmpeBOzQCEWX3TV.QLjiu"], ["confirmed_at", "2024-12-09 06:50:12.199553"], ["created_at", "2024-12-09 06:50:12.211126"], ["updated_at", "2024-12-09 06:50:12.211126"], ["other_info", "{}"], ["first_name", "Ramkumar"], ["last_name", "Rajendran"]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model DomainMapping
  [1m[36mDomainMapping Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mShardMapping Load (0.5ms)[0m  [1m[34mSELECT "shard_mappings".* FROM "shard_mappings" WHERE "shard_mappings"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
Query Trace:
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (2.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mDomainMapping Load (2.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" ORDER BY "domain_mappings"."account_id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mDomainMapping Load (6.1ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."account_id" = $1[0m  [["account_id", 36]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDomainMapping Destroy (0.8ms)[0m  [1m[31mDELETE FROM "domain_mappings" WHERE "domain_mappings"."account_id" = $1[0m  [["account_id", 36]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShardMapping Create (4.4ms)[0m  [1m[32mINSERT INTO "shard_mappings" ("shard_name", "status", "pod_info", "region") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shard_name", "shard_1"], ["status", 206], ["pod_info", "us-east"], ["region", "us-east-1"]]
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."full_domain" = $1 LIMIT $2[0m  [["full_domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Create (1.0ms)[0m  [1m[32mINSERT INTO "accounts" ("id", "name", "full_domain", "time_zone", "contact_info", "created_at", "updated_at", "auth_secret") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 41], ["name", "freshcare-stg"], ["full_domain", "renshiners.freshcare.com"], ["time_zone", "Chennai"], ["contact_info", "{\"first_name\":\"Ramkumar\",\"last_name\":\"Rajendran\",\"mobile\":\"9629978167\",\"email\":\"arj.ramkumar@gmail.com\"}"], ["created_at", "2024-12-09 07:12:01.854219"], ["updated_at", "2024-12-09 07:12:01.854219"], ["auth_secret", "75812f55f415bf743655ecb708d060"]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model Agent
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."account_id" = $2 LIMIT $3[0m  [["email", "arj.ramkumar@gmail.com"], ["account_id", 41], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAgent Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "account_id", "type", "encrypted_password", "confirmed_at", "created_at", "updated_at", "other_info", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["email", "arj.ramkumar@gmail.com"], ["mobile", "9629978167"], ["account_id", 41], ["type", "Agent"], ["encrypted_password", "$2a$12$YYizBlXgKns1n9bREyi2zOr28iYys3cgXTI6BggcIOi4Zn6ItWaBC"], ["confirmed_at", "2024-12-09 07:12:01.856870"], ["created_at", "2024-12-09 07:12:01.861131"], ["updated_at", "2024-12-09 07:12:01.861131"], ["other_info", "{}"], ["first_name", "Ramkumar"], ["last_name", "Rajendran"]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model DomainMapping
  [1m[36mDomainMapping Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mShardMapping Load (0.4ms)[0m  [1m[34mSELECT "shard_mappings".* FROM "shard_mappings" WHERE "shard_mappings"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mDomainMapping Create (0.6ms)[0m  [1m[32mINSERT INTO "domain_mappings" ("account_id", "domain") VALUES ($1, $2) RETURNING "account_id"[0m  [["account_id", 41], ["domain", "renshiners.freshcare.com"]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mShardMapping Update (0.7ms)[0m  [1m[33mUPDATE "shard_mappings" SET "status" = $1 WHERE "shard_mappings"."id" = $2[0m  [["status", 200], ["id", 41]]
Query Trace:
      app/models/signup.rb:49:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegion Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "regions" WHERE "regions"."name" = $1 AND "regions"."account_id" = $2 LIMIT $3[0m  [["name", "Default"], ["account_id", 41], ["LIMIT", 1]]
Query Trace:
      lib/populate_account_seed.rb:27:in `create_default_region'
      lib/populate_account_seed.rb:5:in `populate_for'
      app/models/signup.rb:58:in `populate_seed_data'
      app/models/signup.rb:53:in `save'
  [1m[36mRegion Create (1.2ms)[0m  [1m[32mINSERT INTO "regions" ("account_id", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["account_id", 41], ["name", "Default"], ["created_at", "2024-12-09 07:12:01.934230"], ["updated_at", "2024-12-09 07:12:01.934230"]]
Query Trace:
      lib/populate_account_seed.rb:27:in `create_default_region'
      lib/populate_account_seed.rb:5:in `populate_for'
      app/models/signup.rb:58:in `populate_seed_data'
      app/models/signup.rb:53:in `save'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/alageswaran/Documents/Freshcare/Freshcare-2024_july (1)/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "//users/sign_in/" for 127.0.0.1 at 2024-12-09 13:03:14 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 41], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (2.5ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "10f12f12-b515-408e-91b0-80d1e3f67a58"], ["exp", "2024-12-16 07:33:14"], ["account_id", 41], ["user_id", 5], ["created_at", "2024-12-09 07:33:14.752188"], ["updated_at", "2024-12-09 07:33:14.752188"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2024-12-09 07:33:14.762443"], ["last_sign_in_at", "2024-12-09 07:33:14.762443"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2024-12-09 07:33:14.762858"], ["id", 5]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (2.0ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 41], ["account_id", 41], ["agent_id", 5]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 5], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 475ms (Views: 0.3ms | ActiveRecord: 42.6ms | Allocations: 83354)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/Freshcare/Freshcare-2024_july/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/Freshcare/Freshcare-2024_july/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (174.0ms)[0m  [1m[35mCREATE DATABASE "freshcare_development" ENCODING = 'unicode'[0m
  [1m[35m (81.7ms)[0m  [1m[35mCREATE DATABASE "freshcare_test" ENCODING = 'unicode'[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/Freshcare/Freshcare-2024_july/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (29.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (30.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20200803044510)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying DEFAULT '' NOT NULL, "mobile" character varying, "privileges" character varying DEFAULT '0', "account_id" bigint, "time_zone" character varying, "type" character varying DEFAULT 'User', "single_access_token" character varying, "active" boolean DEFAULT FALSE NOT NULL, "deleted" boolean DEFAULT FALSE, "deleted_at" timestamp, "whitelisted" boolean DEFAULT FALSE, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "confirmation_token" character varying, "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "unconfirmed_email" character varying, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" character varying, "locked_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20200803044510_devise_create_users.rb:5:in `change'
  [1m[35m (14.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_account_id_and_email" ON "users" ("account_id", "email")[0m
Query Trace:
      db/migrate/20200803044510_devise_create_users.rb:53:in `change'
  [1m[35m (15.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_account_id_and_reset_password_token" ON "users" ("account_id", "reset_password_token")[0m
Query Trace:
      db/migrate/20200803044510_devise_create_users.rb:54:in `change'
  [1m[35m (9.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_account_id_and_confirmation_token" ON "users" ("account_id", "confirmation_token")[0m
Query Trace:
      db/migrate/20200803044510_devise_create_users.rb:55:in `change'
  [1m[35m (7.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_account_id_and_unlock_token" ON "users" ("account_id", "unlock_token")[0m
Query Trace:
      db/migrate/20200803044510_devise_create_users.rb:56:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200803044510"]]
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAccounts (20200814141511)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "name" character varying, "full_domain" character varying, "time_zone" character varying, "plan_features" character varying, "account_type" integer, "contact_info" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20200814141511_create_accounts.rb:3:in `change'
  [1m[35m (10.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_full_domain" ON "accounts" ("full_domain")[0m
Query Trace:
      db/migrate/20200814141511_create_accounts.rb:13:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200814141511"]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShardMappings (20200814142659)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (22.6ms)[0m  [1m[35mCREATE TABLE "shard_mappings" ("id" bigserial primary key, "shard_name" character varying, "status" integer, "pod_info" character varying, "region" character varying)[0m
Query Trace:
      db/migrate/20200814142659_create_shard_mappings.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200814142659"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDomainMappings (20200814143602)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (28.1ms)[0m  [1m[35mCREATE TABLE "domain_mappings" ("account_id" bigserial primary key, "domain" character varying)[0m
Query Trace:
      db/migrate/20200814143602_create_domain_mappings.rb:3:in `change'
  [1m[35m (12.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_domain_mappings_on_domain" ON "domain_mappings" ("domain")[0m
Query Trace:
      db/migrate/20200814143602_create_domain_mappings.rb:6:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200814143602"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDelayedJobs (20200815060759)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "delayed_jobs"[0m
Query Trace:
      db/migrate/20200815060759_create_delayed_jobs.rb:3:in `up'
  [1m[35m (24.4ms)[0m  [1m[35mCREATE TABLE "delayed_jobs" ("id" bigserial primary key, "priority" integer DEFAULT 0 NOT NULL, "attempts" integer DEFAULT 0 NOT NULL, "handler" text NOT NULL, "last_error" text, "run_at" timestamp, "locked_at" timestamp, "failed_at" timestamp, "locked_by" character varying, "queue" character varying, "created_at" timestamp(6), "updated_at" timestamp(6), "account_id" bigint)[0m
Query Trace:
      db/migrate/20200815060759_create_delayed_jobs.rb:3:in `up'
  [1m[35m (8.9ms)[0m  [1m[35mCREATE INDEX "index_delayed_jobs_on_account_id" ON "delayed_jobs" ("account_id")[0m
Query Trace:
      db/migrate/20200815060759_create_delayed_jobs.rb:16:in `up'
  [1m[35m (8.3ms)[0m  [1m[35mCREATE INDEX "delayed_jobs_priority" ON "delayed_jobs" ("priority", "run_at")[0m
Query Trace:
      db/migrate/20200815060759_create_delayed_jobs.rb:17:in `up'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200815060759"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUser (20200926170549)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "other_info" jsonb[0m
Query Trace:
      db/migrate/20200926170549_add_column_to_user.rb:3:in `change'
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "region_id" int[0m
Query Trace:
      db/migrate/20200926170549_add_column_to_user.rb:4:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926170549"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRegions (20200927121437)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.9ms)[0m  [1m[35mCREATE TABLE "regions" ("id" bigserial primary key, "account_id" bigint, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20200927121437_create_regions.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927121437"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToRegion (20200927121806)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "regions" ADD "address" text[0m
Query Trace:
      db/migrate/20200927121806_add_column_to_region.rb:3:in `change'
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "regions" ADD "phone" character varying[0m
Query Trace:
      db/migrate/20200927121806_add_column_to_region.rb:4:in `change'
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "regions" ADD "email" character varying[0m
Query Trace:
      db/migrate/20200927121806_add_column_to_region.rb:5:in `change'
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "regions" ADD "other_info" text[0m
Query Trace:
      db/migrate/20200927121806_add_column_to_region.rb:6:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927121806"]]
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20201001085137)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "roles" ("id" bigserial primary key, "name" character varying, "privileges" character varying, "description" text, "default_role" boolean DEFAULT FALSE, "account_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20201001085137_create_roles.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201001085137"]]
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AlterColumnToUser (20201005171945)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "region_id"[0m
Query Trace:
      db/migrate/20201005171945_alter_column_to_user.rb:3:in `change'
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "users" ADD "region_ids" text[] DEFAULT '{}'[0m
Query Trace:
      db/migrate/20201005171945_alter_column_to_user.rb:4:in `change'
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "username" character varying[0m
Query Trace:
      db/migrate/20201005171945_alter_column_to_user.rb:5:in `change'
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "name"[0m
Query Trace:
      db/migrate/20201005171945_alter_column_to_user.rb:6:in `change'
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
Query Trace:
      db/migrate/20201005171945_alter_column_to_user.rb:7:in `change'
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
Query Trace:
      db/migrate/20201005171945_alter_column_to_user.rb:8:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201005171945"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAllowlistedJwts (20201010100847)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (21.7ms)[0m  [1m[35mCREATE TABLE "allowlisted_jwts" ("id" bigserial primary key, "jti" character varying, "aud" character varying, "session_type" integer, "exp" timestamp, "account_id" bigint, "user_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20201010100847_create_allowlisted_jwts.rb:3:in `change'
  [1m[35m (10.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_allowlisted_jwts_on_account_id_and_jti" ON "allowlisted_jwts" ("account_id", "jti")[0m
Query Trace:
      db/migrate/20201010100847_create_allowlisted_jwts.rb:14:in `change'
  [1m[35m (7.8ms)[0m  [1m[35mCREATE INDEX "index_allowlisted_jwts_on_account_id_and_user_id" ON "allowlisted_jwts" ("account_id", "user_id")[0m
Query Trace:
      db/migrate/20201010100847_create_allowlisted_jwts.rb:15:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201010100847"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToAccount (20201010160217)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD "auth_secret" character varying[0m
Query Trace:
      db/migrate/20201010160217_add_column_to_account.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201010160217"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToAllowlistJwt (20201010170024)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "allowlisted_jwts" ADD "allowlisted_jwt_id" bigint[0m
Query Trace:
      db/migrate/20201010170024_add_column_to_allowlist_jwt.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201010170024"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAppointments (20210124170310)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (25.0ms)[0m  [1m[35mCREATE TABLE "appointments" ("id" bigserial primary key, "client_id" bigint, "agent_id" bigint, "account_id" bigint, "other_info" jsonb, "notes" text, "start_time" timestamp, "end_time" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20210124170310_create_appointments.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210124170310"]]
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnStatusToAppointment (20210302182524)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "appointments" ADD "status" integer[0m
Query Trace:
      db/migrate/20210302182524_add_column_status_to_appointment.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210302182524"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFeedbacks (20210305172440)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.5ms)[0m  [1m[35mCREATE TABLE "feedbacks" ("id" bigserial primary key, "client_id" bigint, "agent_id" bigint, "account_id" bigint, "other_info" jsonb, "description" text, "appointment_id" bigint, "note_type" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20210305172440_create_feedbacks.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210305172440"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAgentAppointments (20210306153159)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "agent_appointments" ("id" bigserial primary key, "agent_id" bigint, "appointment_id" bigint, "account_id" bigint, "status" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20210306153159_create_agent_appointments.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210306153159"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveStatusColumnFromAppointment (20210306154122)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "appointments" DROP COLUMN "status"[0m
Query Trace:
      db/migrate/20210306154122_remove_status_column_from_appointment.rb:3:in `change'
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "appointments" DROP COLUMN "agent_id"[0m
Query Trace:
      db/migrate/20210306154122_remove_status_column_from_appointment.rb:4:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210306154122"]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToDelayedJob (20210313193453)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "delayed_jobs" ADD "job_owner_id" bigint[0m
Query Trace:
      db/migrate/20210313193453_add_column_to_delayed_job.rb:3:in `change'
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "delayed_jobs" ADD "job_owner_type" character varying[0m
Query Trace:
      db/migrate/20210313193453_add_column_to_delayed_job.rb:4:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210313193453"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToAppointmentType (20210327045244)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "appointments" ADD "recurring" boolean[0m
Query Trace:
      db/migrate/20210327045244_add_column_to_appointment_type.rb:3:in `change'
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "appointments" ADD "created_by" bigint[0m
Query Trace:
      db/migrate/20210327045244_add_column_to_appointment_type.rb:4:in `change'
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "appointments" ADD "recurring_appointment" bigint[0m
Query Trace:
      db/migrate/20210327045244_add_column_to_appointment_type.rb:5:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210327045244"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRecurringTasks (20210327085214)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (25.3ms)[0m  [1m[35mCREATE TABLE "recurring_tasks" ("id" bigserial primary key, "client_id" bigint, "agent_id" bigint, "account_id" bigint, "other_info" jsonb, "notes" text, "start_time" timestamp, "end_time" timestamp, "created_by" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20210327085214_create_recurring_tasks.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210327085214"]]
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToRecurringTask (20210327183908)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "recurring_tasks" ADD "task_end_date" timestamp[0m
Query Trace:
      db/migrate/20210327183908_add_column_to_recurring_task.rb:3:in `change'
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "recurring_tasks" DROP COLUMN "agent_id"[0m
Query Trace:
      db/migrate/20210327183908_add_column_to_recurring_task.rb:4:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210327183908"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveColumnFromAppointment (20210328064154)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "appointments" DROP COLUMN "recurring_appointment"[0m
Query Trace:
      db/migrate/20210328064154_remove_column_from_appointment.rb:3:in `change'
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "appointments" ADD "recurring_task_id" bigint[0m
Query Trace:
      db/migrate/20210328064154_remove_column_from_appointment.rb:4:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210328064154"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to Mar282021 (20210328090401)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "appointments" DROP COLUMN "created_by"[0m
Query Trace:
      db/migrate/20210328090401_mar282021.rb:3:in `change'
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "recurring_tasks" DROP COLUMN "created_by"[0m
Query Trace:
      db/migrate/20210328090401_mar282021.rb:4:in `change'
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "appointments" ADD "created_by_id" bigint[0m
Query Trace:
      db/migrate/20210328090401_mar282021.rb:5:in `change'
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "recurring_tasks" ADD "created_by_id" bigint[0m
Query Trace:
      db/migrate/20210328090401_mar282021.rb:6:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210328090401"]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20210328144522)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.6ms)[0m  [1m[35mCREATE TABLE "groups" ("id" bigserial primary key, "name" character varying, "account_id" bigint, "description" text, "group_type" integer, "created_by_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20210328144522_create_groups.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210328144522"]]
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddGroupToClient (20210328150005)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "group_id" bigint[0m
Query Trace:
      db/migrate/20210328150005_add_group_to_client.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210328150005"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeColumnNameInRole (20210406072339)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "roles" RENAME COLUMN "default_role" TO "fc_default"[0m
Query Trace:
      db/migrate/20210406072339_change_column_name_in_role.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210406072339"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidays (20210423070149)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (25.5ms)[0m  [1m[35mCREATE TABLE "holidays" ("id" bigserial primary key, "agent_id" bigint, "account_id" bigint, "reason" text, "from_time" timestamp, "to_time" timestamp, "leave_type" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20210423070149_create_holidays.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210423070149"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageTables (20210521081228)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
Query Trace:
      db/migrate/20210521081228_create_active_storage_tables.active_storage.rb:4:in `change'
  [1m[35m (8.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
Query Trace:
      db/migrate/20210521081228_create_active_storage_tables.active_storage.rb:4:in `change'
  [1m[35m (30.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
Query Trace:
      db/migrate/20210521081228_create_active_storage_tables.active_storage.rb:17:in `change'
  [1m[35m (12.8ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
Query Trace:
      db/migrate/20210521081228_create_active_storage_tables.active_storage.rb:17:in `change'
  [1m[35m (7.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
Query Trace:
      db/migrate/20210521081228_create_active_storage_tables.active_storage.rb:17:in `change'
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
Query Trace:
      db/migrate/20210521081228_create_active_storage_tables.active_storage.rb:28:in `change'
  [1m[35m (7.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
Query Trace:
      db/migrate/20210521081228_create_active_storage_tables.active_storage.rb:28:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210521081228"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToAppt (20210611164731)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "appointments" ADD "appt_status" integer DEFAULT 1[0m
Query Trace:
      db/migrate/20210611164731_add_column_to_appt.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210611164731"]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to PopulateSeed27Jun2021 (20210627113845)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
Query Trace:
      db/migrate/20210627113845_populate_seed_27_jun_2021.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210627113845"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotes (20210725054550)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (25.1ms)[0m  [1m[35mCREATE TABLE "notes" ("id" bigserial primary key, "agent_id" bigint, "client_id" bigint, "data" text, "account_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20210725054550_create_notes.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210725054550"]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToEmergencyNote (20210914160116)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "notes" ADD "appointment_id" bigint[0m
Query Trace:
      db/migrate/20210914160116_add_column_to_emergency_note.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210914160116"]]
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameDefaultRoleInRoles (20230809145439)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230809145439"]]
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCheckinAndCheckoutToAgentAppointments (20240705172556)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "agent_appointments" ADD "checkin_at" timestamp[0m
Query Trace:
      db/migrate/20240705172556_add_checkin_and_checkout_to_agent_appointments.rb:3:in `change'
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "agent_appointments" ADD "checkout_at" timestamp[0m
Query Trace:
      db/migrate/20240705172556_add_checkin_and_checkout_to_agent_appointments.rb:4:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20240705172556"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInvoices (20241203051202)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.9ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "invoiceId" character varying, "clientId" character varying, "groupId" character varying, "regionId" character varying, "timePeriod" character varying, "durationtype" integer, "customizedCheckbox" integer, "ratePerMinute" decimal, "invoiceDate" timestamp(6), "account_id" integer, "grand_totalamount" decimal, "grand_total_minutes" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241203051202_create_invoices.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241203051202"]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInvoiceItems (20241203051218)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.8ms)[0m  [1m[35mCREATE TABLE "invoice_items" ("id" bigserial primary key, "invoice_id" bigint NOT NULL, "date" date, "quantity" decimal, "description" character varying, "unitPrice" decimal, "amount" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_25bf3d2c5e"
FOREIGN KEY ("invoice_id")
  REFERENCES "invoices" ("id")
)[0m
Query Trace:
      db/migrate/20241203051218_create_invoice_items.rb:3:in `change'
  [1m[35m (8.5ms)[0m  [1m[35mCREATE INDEX "index_invoice_items_on_invoice_id" ON "invoice_items" ("invoice_id")[0m
Query Trace:
      db/migrate/20241203051218_create_invoice_items.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241203051218"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSalaries (20241203065542)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.2ms)[0m  [1m[35mCREATE TABLE "salaries" ("id" bigserial primary key, "salary_id" character varying, "carer_id" character varying, "group_id" character varying, "region_id" character varying, "time_period" character varying, "customized_checkbox" boolean, "account_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
Query Trace:
      db/migrate/20241203065542_create_salaries.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241203065542"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSalarySlabInputs (20241203144414)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (26.7ms)[0m  [1m[35mCREATE TABLE "salary_slab_inputs" ("id" bigserial primary key, "salary_id" bigint NOT NULL, "slab_id" character varying NOT NULL, "rate" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0fdadae9d9"
FOREIGN KEY ("salary_id")
  REFERENCES "salaries" ("id")
)[0m
Query Trace:
      db/migrate/20241203144414_create_salary_slab_inputs.rb:3:in `change'
  [1m[35m (8.7ms)[0m  [1m[35mCREATE INDEX "index_salary_slab_inputs_on_salary_id" ON "salary_slab_inputs" ("salary_id")[0m
Query Trace:
      db/migrate/20241203144414_create_salary_slab_inputs.rb:3:in `change'
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241203144414"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2024-12-09 11:27:00.845946"], ["updated_at", "2024-12-09 11:27:00.845946"]]
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/Freshcare/Freshcare-2024_july/Freshcare-2024_july/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/Freshcare/Freshcare-2024_july/Freshcare-2024_july/app/controllers/application_controller.rb:1)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShardMapping Create (1.1ms)[0m  [1m[32mINSERT INTO "shard_mappings" ("shard_name", "status", "pod_info", "region") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shard_name", "shard_1"], ["status", 206], ["pod_info", "us-east"], ["region", "us-east-1"]]
Query Trace:
      app/models/signup.rb:31:in `save'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."full_domain" = $1 LIMIT $2[0m  [["full_domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Create (3.7ms)[0m  [1m[32mINSERT INTO "accounts" ("id", "name", "full_domain", "time_zone", "contact_info", "created_at", "updated_at", "auth_secret") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "freshcare-stg"], ["full_domain", "renshiners.freshcare.com"], ["time_zone", "Chennai"], ["contact_info", "{\"first_name\":\"Ramkumar\",\"last_name\":\"Rajendran\",\"mobile\":\"9629978167\",\"email\":\"arj.ramkumar@gmail.com\"}"], ["created_at", "2024-12-09 12:20:27.457522"], ["updated_at", "2024-12-09 12:20:27.457522"], ["auth_secret", "dff34bde8c12d8ac2c6c5d18f00e01"]]
Query Trace:
      app/models/signup.rb:45:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model Agent
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."account_id" = $2 LIMIT $3[0m  [["email", "arj.ramkumar@gmail.com"], ["account_id", 1], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAgent Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "account_id", "type", "encrypted_password", "confirmed_at", "created_at", "updated_at", "other_info", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["email", "arj.ramkumar@gmail.com"], ["mobile", "9629978167"], ["account_id", 1], ["type", "Agent"], ["encrypted_password", "$2a$12$8kJwWTI9oBBC7NAhG2dQ8eskBr/1sIewWkYmmPhDi/UFIE1NP3U7G"], ["confirmed_at", "2024-12-09 12:20:27.464145"], ["created_at", "2024-12-09 12:20:27.480447"], ["updated_at", "2024-12-09 12:20:27.480447"], ["other_info", "{}"], ["first_name", "Ramkumar"], ["last_name", "Rajendran"]]
Query Trace:
      app/models/signup.rb:46:in `block in save'
      app/models/signup.rb:32:in `save'
WARNING :: Account.current is nil for the model DomainMapping
  [1m[36mDomainMapping Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mShardMapping Load (0.4ms)[0m  [1m[34mSELECT "shard_mappings".* FROM "shard_mappings" WHERE "shard_mappings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mDomainMapping Create (0.7ms)[0m  [1m[32mINSERT INTO "domain_mappings" ("account_id", "domain") VALUES ($1, $2) RETURNING "account_id"[0m  [["account_id", 1], ["domain", "renshiners.freshcare.com"]]
Query Trace:
      app/models/signup.rb:47:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mShardMapping Update (0.6ms)[0m  [1m[33mUPDATE "shard_mappings" SET "status" = $1 WHERE "shard_mappings"."id" = $2[0m  [["status", 200], ["id", 1]]
Query Trace:
      app/models/signup.rb:49:in `block in save'
      app/models/signup.rb:32:in `save'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegion Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "regions" WHERE "regions"."name" = $1 AND "regions"."account_id" = $2 LIMIT $3[0m  [["name", "Default"], ["account_id", 1], ["LIMIT", 1]]
Query Trace:
      lib/populate_account_seed.rb:27:in `create_default_region'
      lib/populate_account_seed.rb:5:in `populate_for'
      app/models/signup.rb:58:in `populate_seed_data'
      app/models/signup.rb:53:in `save'
  [1m[36mRegion Create (0.8ms)[0m  [1m[32mINSERT INTO "regions" ("account_id", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["account_id", 1], ["name", "Default"], ["created_at", "2024-12-09 12:20:27.534123"], ["updated_at", "2024-12-09 12:20:27.534123"]]
Query Trace:
      lib/populate_account_seed.rb:27:in `create_default_region'
      lib/populate_account_seed.rb:5:in `populate_for'
      app/models/signup.rb:58:in `populate_seed_data'
      app/models/signup.rb:53:in `save'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAccount Load (5.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/users/sign_in/" for ::1 at 2024-12-11 15:55:01 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (2.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "localhost"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 19ms (Views: 0.5ms | ActiveRecord: 7.7ms | Allocations: 4147)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-11 16:59:00 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "127.0.0.1"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 16ms (Views: 0.3ms | ActiveRecord: 4.1ms | Allocations: 4128)


Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-11 17:01:27 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "127.0.0.1"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 13ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1371)


Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-11 17:11:06 +0530
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "127.0.0.1"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 67ms (Views: 0.3ms | ActiveRecord: 14.2ms | Allocations: 5046)


Started GET "/" for 127.0.0.1 at 2024-12-11 17:13:53 +0530
Processing by Rails::WelcomeController#index as HTML
  Rendering /var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/templates/rails/welcome/index.html.erb (Duration: 6.3ms | Allocations: 673)
Completed 200 OK in 61ms (Views: 14.4ms | ActiveRecord: 0.0ms | Allocations: 7346)


Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-11 17:22:03 +0530
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "127.0.0.1"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 44ms (Views: 0.1ms | ActiveRecord: 12.3ms | Allocations: 5028)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: 127.0.0.1:3000
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: 127.0.0.1:3000
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/railtie.rb:80)
Started GET "/" for 127.0.0.1 at 2024-12-11 17:32:54 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/templates/rails/welcome/index.html.erb (Duration: 3.0ms | Allocations: 566)
Completed 200 OK in 21ms (Views: 6.2ms | ActiveRecord: 0.0ms | Allocations: 5550)


[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: renshiners.freshcare.com:3000
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: renshiners.freshcare.com:3000
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: renshiners.freshcare.com:3000
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-11 17:38:40 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.0ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (2.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (5.3ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "628cdd5c-df7c-4fe0-8dd0-9f25ad5cdff9"], ["exp", "2024-12-18 12:08:41"], ["account_id", 1], ["user_id", 1], ["created_at", "2024-12-11 12:08:41.100558"], ["updated_at", "2024-12-11 12:08:41.100558"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (3.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2024-12-11 12:08:41.120949"], ["last_sign_in_at", "2024-12-11 12:08:41.120949"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2024-12-11 12:08:41.121635"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (4.2ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 1], ["account_id", 1], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (2.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 616ms (Views: 0.5ms | ActiveRecord: 74.9ms | Allocations: 78979)


Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-11 17:41:19 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "127.0.0.1"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Invalid Account
Completed 404 Not Found in 7ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1417)


Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-11 17:42:13 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (2.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (1.3ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "8e663fa8-9b53-4888-9569-9bfa01bd97aa"], ["exp", "2024-12-18 12:12:13"], ["account_id", 1], ["user_id", 1], ["created_at", "2024-12-11 12:12:13.953416"], ["updated_at", "2024-12-11 12:12:13.953416"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["sign_in_count", 2], ["current_sign_in_at", "2024-12-11 12:12:13.965337"], ["updated_at", "2024-12-11 12:12:13.966037"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (1.0ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 1], ["account_id", 1], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 344ms (Views: 0.4ms | ActiveRecord: 15.5ms | Allocations: 16281)


Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-11 17:42:20 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (0.7ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "0f3164b0-4bf0-42b9-bb53-59325998958a"], ["exp", "2024-12-18 12:12:21"], ["account_id", 1], ["user_id", 1], ["created_at", "2024-12-11 12:12:21.018174"], ["updated_at", "2024-12-11 12:12:21.018174"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 3], ["current_sign_in_at", "2024-12-11 12:12:21.052883"], ["last_sign_in_at", "2024-12-11 12:12:13.965337"], ["updated_at", "2024-12-11 12:12:21.053225"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (0.8ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 1], ["account_id", 1], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 340ms (Views: 0.4ms | ActiveRecord: 13.3ms | Allocations: 16257)


Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-11 17:43:28 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.2ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (2.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (0.7ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "f247a89b-69f7-4b3b-8267-77dedcf38c17"], ["exp", "2024-12-18 12:13:28"], ["account_id", 1], ["user_id", 1], ["created_at", "2024-12-11 12:13:28.705359"], ["updated_at", "2024-12-11 12:13:28.705359"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 4], ["current_sign_in_at", "2024-12-11 12:13:28.716367"], ["last_sign_in_at", "2024-12-11 12:12:21.052883"], ["updated_at", "2024-12-11 12:13:28.716742"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (0.9ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 1], ["account_id", 1], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 330ms (Views: 0.2ms | ActiveRecord: 17.4ms | Allocations: 16280)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-12 17:40:45 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (3.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.2ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (5.3ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "db7ef60f-8737-47c8-bbe5-e971ea74d197"], ["exp", "2024-12-19 12:10:46"], ["account_id", 1], ["user_id", 1], ["created_at", "2024-12-12 12:10:46.349993"], ["updated_at", "2024-12-12 12:10:46.349993"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (2.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 5], ["current_sign_in_at", "2024-12-12 12:10:46.370816"], ["last_sign_in_at", "2024-12-11 12:13:28.716367"], ["updated_at", "2024-12-12 12:10:46.371490"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (3.6ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 1], ["account_id", 1], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 605ms (Views: 0.5ms | ActiveRecord: 68.1ms | Allocations: 76673)


Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-12 17:41:05 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (2.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (0.9ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "c147c1ce-8663-493b-a173-06f4bcfb5b09"], ["exp", "2024-12-19 12:11:05"], ["account_id", 1], ["user_id", 1], ["created_at", "2024-12-12 12:11:05.934019"], ["updated_at", "2024-12-12 12:11:05.934019"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 6], ["current_sign_in_at", "2024-12-12 12:11:05.944369"], ["last_sign_in_at", "2024-12-12 12:10:46.370816"], ["updated_at", "2024-12-12 12:11:05.944732"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (1.1ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 1], ["account_id", 1], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 316ms (Views: 0.2ms | ActiveRecord: 14.4ms | Allocations: 16300)


Started GET "/appointments" for 127.0.0.1 at 2024-12-12 19:45:15 +0530
Started GET "/agents" for 127.0.0.1 at 2024-12-12 19:45:15 +0530
Started GET "/clients" for 127.0.0.1 at 2024-12-12 19:45:15 +0530
Started GET "/holidays" for 127.0.0.1 at 2024-12-12 19:45:16 +0530
Started GET "/regions" for 127.0.0.1 at 2024-12-12 19:45:16 +0530
Processing by AppointmentsController#index as HTML
  Parameters: {"appointment"=>{}}
  [1m[36mDomainMapping Load (2.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "c147c1ce-8663-493b-a173-06f4bcfb5b09"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 7], ["current_sign_in_at", "2024-12-12 14:15:16.093958"], ["last_sign_in_at", "2024-12-12 12:11:05.944369"], ["updated_at", "2024-12-12 14:15:16.094511"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 54ms (Views: 0.2ms | ActiveRecord: 38.8ms | Allocations: 15565)


Processing by ClientsController#index as HTML
  Parameters: {"client"=>{}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Processing by HolidaysController#index as HTML
  Parameters: {"holiday"=>{}}
  [1m[36mDomainMapping Load (1.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (1.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mAccount Load (2.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (8.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (5.5ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "c147c1ce-8663-493b-a173-06f4bcfb5b09"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mAllowlistedJwt Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "c147c1ce-8663-493b-a173-06f4bcfb5b09"], ["LIMIT", 1]]
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (4.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 8], ["current_sign_in_at", "2024-12-12 14:15:16.193874"], ["last_sign_in_at", "2024-12-12 14:15:16.093958"], ["updated_at", "2024-12-12 14:15:16.194276"], ["id", 1]]
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAgent Update (13.6ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 8], ["current_sign_in_at", "2024-12-12 14:15:16.197268"], ["last_sign_in_at", "2024-12-12 14:15:16.093958"], ["updated_at", "2024-12-12 14:15:16.197713"], ["id", 1]]
Unauthorized - FC Authority
Completed 401 Unauthorized in 108ms (Views: 0.2ms | ActiveRecord: 55.7ms | Allocations: 24261)


  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 104ms (Views: 0.2ms | ActiveRecord: 46.2ms | Allocations: 23975)


Processing by RegionsController#index as HTML
Processing by AgentsController#index as HTML
  Parameters: {"region"=>{}}
  Parameters: {"agent"=>{}}
  [1m[36mDomainMapping Load (0.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mDomainMapping Load (1.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (3.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Load (6.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mAllowlistedJwt Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "c147c1ce-8663-493b-a173-06f4bcfb5b09"], ["LIMIT", 1]]
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAgent Update (5.1ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 9], ["current_sign_in_at", "2024-12-12 14:15:16.285370"], ["last_sign_in_at", "2024-12-12 14:15:16.197268"], ["updated_at", "2024-12-12 14:15:16.285712"], ["id", 1]]
  [1m[36mAllowlistedJwt Exists? (3.6ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "c147c1ce-8663-493b-a173-06f4bcfb5b09"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 62ms (Views: 0.2ms | ActiveRecord: 16.9ms | Allocations: 18755)


  [1m[36mAgent Update (8.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 9], ["current_sign_in_at", "2024-12-12 14:15:16.300838"], ["last_sign_in_at", "2024-12-12 14:15:16.197268"], ["updated_at", "2024-12-12 14:15:16.301901"], ["id", 1]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 88ms (Views: 0.3ms | ActiveRecord: 95.0ms | Allocations: 23423)


Started GET "/groups" for 127.0.0.1 at 2024-12-12 19:45:16 +0530
Processing by GroupsController#index as HTML
  Parameters: {"group"=>{}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "c147c1ce-8663-493b-a173-06f4bcfb5b09"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 10], ["current_sign_in_at", "2024-12-12 14:15:16.414992"], ["last_sign_in_at", "2024-12-12 14:15:16.300838"], ["updated_at", "2024-12-12 14:15:16.415437"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 81ms (Views: 0.2ms | ActiveRecord: 9.6ms | Allocations: 10841)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-13 11:27:51 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (3.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.om", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.om", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (2.0ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.om"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Completed 401 Unauthorized in 170ms (ActiveRecord: 41.0ms | Allocations: 22002)


Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-13 11:28:06 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.om", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.om", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.om"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Completed 401 Unauthorized in 64ms (ActiveRecord: 3.4ms | Allocations: 4693)


Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-13 11:28:28 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.0ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (4.3ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "e92a225a-b31c-430c-9a7f-3574b30746ab"], ["exp", "2024-12-20 05:58:28"], ["account_id", 1], ["user_id", 1], ["created_at", "2024-12-13 05:58:28.444041"], ["updated_at", "2024-12-13 05:58:28.444041"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (2.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 11], ["current_sign_in_at", "2024-12-13 05:58:28.461627"], ["last_sign_in_at", "2024-12-12 14:15:16.414992"], ["updated_at", "2024-12-13 05:58:28.462270"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (3.2ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 1], ["account_id", 1], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (2.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 498ms (Views: 0.5ms | ActiveRecord: 44.4ms | Allocations: 61307)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-14 16:06:47 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (5.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (3.4ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (2.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update All (8.0ms)[0m  [1m[33mUPDATE "users" SET "failed_attempts" = COALESCE("failed_attempts", 0) + $1 WHERE "users"."type" = $2 AND "users"."id" = $3[0m  [["failed_attempts", 1], ["type", "Agent"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Agent"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Completed 401 Unauthorized in 775ms (ActiveRecord: 51.1ms | Allocations: 51442)


Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-14 16:07:25 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (4.0ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "341c1051-814b-4b2e-8f6c-7d07c90c7004"], ["exp", "2024-12-21 10:37:26"], ["account_id", 1], ["user_id", 1], ["created_at", "2024-12-14 10:37:26.099701"], ["updated_at", "2024-12-14 10:37:26.099701"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "failed_attempts" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["failed_attempts", 0], ["updated_at", "2024-12-14 10:37:26.116757"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 12], ["current_sign_in_at", "2024-12-14 10:37:26.131631"], ["last_sign_in_at", "2024-12-13 05:58:28.461627"], ["updated_at", "2024-12-14 10:37:26.132147"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (4.4ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 1], ["account_id", 1], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 413ms (Views: 0.3ms | ActiveRecord: 46.1ms | Allocations: 39040)


Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-14 16:07:38 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.3ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (1.7ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "9fe330a3-00a2-4a84-a7d5-45056158ecf4"], ["exp", "2024-12-21 10:37:38"], ["account_id", 1], ["user_id", 1], ["created_at", "2024-12-14 10:37:38.642928"], ["updated_at", "2024-12-14 10:37:38.642928"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 13], ["current_sign_in_at", "2024-12-14 10:37:38.660137"], ["last_sign_in_at", "2024-12-14 10:37:26.131631"], ["updated_at", "2024-12-14 10:37:38.660538"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (0.9ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 1], ["account_id", 1], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 347ms (Views: 0.2ms | ActiveRecord: 18.9ms | Allocations: 16295)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-18 12:08:24 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (4.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (4.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (3.9ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "41879888-6a70-4c9b-a34b-236fb6e6f49d"], ["exp", "2024-12-25 06:38:25"], ["account_id", 1], ["user_id", 1], ["created_at", "2024-12-18 06:38:25.746716"], ["updated_at", "2024-12-18 06:38:25.746716"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 14], ["current_sign_in_at", "2024-12-18 06:38:25.765664"], ["last_sign_in_at", "2024-12-14 10:37:38.660137"], ["updated_at", "2024-12-18 06:38:25.766147"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (4.6ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 1], ["account_id", 1], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (2.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 604ms (Views: 0.6ms | ActiveRecord: 76.6ms | Allocations: 76704)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 12:09:33 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Completed 401 Unauthorized in 10ms (ActiveRecord: 1.2ms | Allocations: 3311)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 13:02:42 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "41879888-6a70-4c9b-a34b-236fb6e6f49d"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 15], ["current_sign_in_at", "2024-12-18 07:32:42.186106"], ["last_sign_in_at", "2024-12-18 06:38:25.765664"], ["updated_at", "2024-12-18 07:32:42.186462"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 87ms (Views: 0.2ms | ActiveRecord: 24.0ms | Allocations: 14780)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 13:03:51 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Completed 401 Unauthorized in 15ms (ActiveRecord: 1.3ms | Allocations: 3093)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 13:05:01 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (1.2ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Completed 401 Unauthorized in 16ms (ActiveRecord: 1.9ms | Allocations: 3082)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 13:05:23 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Completed 401 Unauthorized in 11ms (ActiveRecord: 1.5ms | Allocations: 3154)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 13:06:19 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (1.1ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Completed 401 Unauthorized in 12ms (ActiveRecord: 1.8ms | Allocations: 3062)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 13:07:14 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Completed 401 Unauthorized in 12ms (ActiveRecord: 1.1ms | Allocations: 3063)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 13:07:15 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.4ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Completed 401 Unauthorized in 10ms (ActiveRecord: 1.0ms | Allocations: 3061)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 13:07:22 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.4ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "41879888-6a70-4c9b-a34b-236fb6e6f49d"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 16], ["current_sign_in_at", "2024-12-18 07:37:22.949855"], ["last_sign_in_at", "2024-12-18 07:32:42.186106"], ["updated_at", "2024-12-18 07:37:22.950334"], ["id", 1]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 35ms (Views: 0.2ms | ActiveRecord: 6.5ms | Allocations: 10621)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 13:22:49 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:70:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:70:in `retrieve_current_account'
      app/controllers/application_controller.rb:19:in `current_account'
      app/controllers/application_controller.rb:58:in `set_current_account'
  ↳ app/controllers/application_controller.rb:70:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:71:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:71:in `retrieve_current_account'
      app/controllers/application_controller.rb:19:in `current_account'
      app/controllers/application_controller.rb:58:in `set_current_account'
  ↳ app/controllers/application_controller.rb:71:in `retrieve_current_account'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "41879888-6a70-4c9b-a34b-236fb6e6f49d"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 17], ["current_sign_in_at", "2024-12-18 07:52:49.285668"], ["last_sign_in_at", "2024-12-18 07:37:22.949855"], ["updated_at", "2024-12-18 07:52:49.286139"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 135ms (Views: 0.2ms | ActiveRecord: 17.2ms | Allocations: 43789)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-18 13:27:49 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:70:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:70:in `retrieve_current_account'
      app/controllers/application_controller.rb:19:in `current_account'
      app/controllers/application_controller.rb:58:in `set_current_account'
  ↳ app/controllers/application_controller.rb:70:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:71:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:71:in `retrieve_current_account'
      app/controllers/application_controller.rb:19:in `current_account'
      app/controllers/application_controller.rb:58:in `set_current_account'
  ↳ app/controllers/application_controller.rb:71:in `retrieve_current_account'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "41879888-6a70-4c9b-a34b-236fb6e6f49d"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 18], ["current_sign_in_at", "2024-12-18 07:57:49.383865"], ["last_sign_in_at", "2024-12-18 07:52:49.285668"], ["updated_at", "2024-12-18 07:57:49.384406"], ["id", 1]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 220ms (Views: 0.3ms | ActiveRecord: 30.1ms | Allocations: 56140)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 14:11:49 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:70:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:70:in `retrieve_current_account'
      app/controllers/application_controller.rb:19:in `current_account'
      app/controllers/application_controller.rb:58:in `set_current_account'
  ↳ app/controllers/application_controller.rb:70:in `retrieve_current_account'
  [1m[36mAccount Load (1.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:71:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:71:in `retrieve_current_account'
      app/controllers/application_controller.rb:19:in `current_account'
      app/controllers/application_controller.rb:58:in `set_current_account'
  ↳ app/controllers/application_controller.rb:71:in `retrieve_current_account'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "41879888-6a70-4c9b-a34b-236fb6e6f49d"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 19], ["current_sign_in_at", "2024-12-18 08:41:50.014372"], ["last_sign_in_at", "2024-12-18 07:57:49.383865"], ["updated_at", "2024-12-18 08:41:50.014796"], ["id", 1]]
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 90ms (Views: 0.3ms | ActiveRecord: 24.4ms | Allocations: 14495)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 14:12:19 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.4ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:70:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:70:in `retrieve_current_account'
      app/controllers/application_controller.rb:19:in `current_account'
      app/controllers/application_controller.rb:58:in `set_current_account'
  ↳ app/controllers/application_controller.rb:70:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:71:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:71:in `retrieve_current_account'
      app/controllers/application_controller.rb:19:in `current_account'
      app/controllers/application_controller.rb:58:in `set_current_account'
  ↳ app/controllers/application_controller.rb:71:in `retrieve_current_account'
Completed 401 Unauthorized in 13ms (ActiveRecord: 1.3ms | Allocations: 3095)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 14:25:20 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.4ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:70:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:70:in `retrieve_current_account'
      app/controllers/application_controller.rb:19:in `current_account'
      app/controllers/application_controller.rb:58:in `set_current_account'
  ↳ app/controllers/application_controller.rb:70:in `retrieve_current_account'
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:71:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:71:in `retrieve_current_account'
      app/controllers/application_controller.rb:19:in `current_account'
      app/controllers/application_controller.rb:58:in `set_current_account'
  ↳ app/controllers/application_controller.rb:71:in `retrieve_current_account'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "41879888-6a70-4c9b-a34b-236fb6e6f49d"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 20], ["current_sign_in_at", "2024-12-18 08:55:20.496252"], ["last_sign_in_at", "2024-12-18 08:41:50.014372"], ["updated_at", "2024-12-18 08:55:20.496789"], ["id", 1]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 78ms (Views: 0.2ms | ActiveRecord: 18.8ms | Allocations: 14408)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 14:26:13 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "41879888-6a70-4c9b-a34b-236fb6e6f49d"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 21], ["current_sign_in_at", "2024-12-18 08:56:13.865485"], ["last_sign_in_at", "2024-12-18 08:55:20.496252"], ["updated_at", "2024-12-18 08:56:13.866157"], ["id", 1]]
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 180ms (Views: 0.2ms | ActiveRecord: 37.9ms | Allocations: 42306)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-18 14:47:55 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "41879888-6a70-4c9b-a34b-236fb6e6f49d"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 22], ["current_sign_in_at", "2024-12-18 09:17:55.936638"], ["last_sign_in_at", "2024-12-18 08:56:13.865485"], ["updated_at", "2024-12-18 09:17:55.937161"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 217ms (Views: 0.2ms | ActiveRecord: 33.1ms | Allocations: 56157)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 14:48:24 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Completed 401 Unauthorized in 13ms (ActiveRecord: 1.5ms | Allocations: 3191)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 14:48:35 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Completed 401 Unauthorized in 12ms (ActiveRecord: 1.7ms | Allocations: 3075)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 14:58:09 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "41879888-6a70-4c9b-a34b-236fb6e6f49d"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 23], ["current_sign_in_at", "2024-12-18 09:28:09.280558"], ["last_sign_in_at", "2024-12-18 09:17:55.936638"], ["updated_at", "2024-12-18 09:28:09.280914"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 74ms (Views: 0.2ms | ActiveRecord: 18.2ms | Allocations: 14433)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-18 16:10:02 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (2.3ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (2.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Completed 401 Unauthorized in 109ms (ActiveRecord: 24.8ms | Allocations: 18594)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 16:10:22 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Completed 401 Unauthorized in 22ms (ActiveRecord: 2.4ms | Allocations: 3195)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 16:10:33 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Completed 401 Unauthorized in 12ms (ActiveRecord: 1.4ms | Allocations: 3082)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 16:10:35 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (2.0ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Completed 401 Unauthorized in 13ms (ActiveRecord: 2.7ms | Allocations: 3082)


Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-18 16:13:14 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.1ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update All (4.8ms)[0m  [1m[33mUPDATE "users" SET "failed_attempts" = COALESCE("failed_attempts", 0) + $1 WHERE "users"."type" = $2 AND "users"."id" = $3[0m  [["failed_attempts", 1], ["type", "Agent"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Agent"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Completed 401 Unauthorized in 359ms (ActiveRecord: 17.8ms | Allocations: 36768)


Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-18 16:15:02 +0530
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (1.1ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (5.0ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["exp", "2024-12-25 10:45:02"], ["account_id", 1], ["user_id", 1], ["created_at", "2024-12-18 10:45:02.561013"], ["updated_at", "2024-12-18 10:45:02.561013"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "failed_attempts" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["failed_attempts", 0], ["updated_at", "2024-12-18 10:45:02.577902"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 24], ["current_sign_in_at", "2024-12-18 10:45:02.594669"], ["last_sign_in_at", "2024-12-18 09:28:09.280558"], ["updated_at", "2024-12-18 10:45:02.595034"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (2.5ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 1], ["account_id", 1], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (2.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 487ms (Views: 0.5ms | ActiveRecord: 45.2ms | Allocations: 38985)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 16:18:39 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 25], ["current_sign_in_at", "2024-12-18 10:48:39.805538"], ["last_sign_in_at", "2024-12-18 10:45:02.594669"], ["updated_at", "2024-12-18 10:48:39.806066"], ["id", 1]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 57ms (Views: 0.3ms | ActiveRecord: 8.4ms | Allocations: 10892)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-18 16:34:32 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 26], ["current_sign_in_at", "2024-12-18 11:04:32.406139"], ["last_sign_in_at", "2024-12-18 10:48:39.805538"], ["updated_at", "2024-12-18 11:04:32.406684"], ["id", 1]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 212ms (Views: 0.2ms | ActiveRecord: 30.6ms | Allocations: 56168)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 16:39:50 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 27], ["current_sign_in_at", "2024-12-18 11:09:50.683101"], ["last_sign_in_at", "2024-12-18 11:04:32.406139"], ["updated_at", "2024-12-18 11:09:50.683592"], ["id", 1]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 131ms (Views: 0.2ms | ActiveRecord: 29.0ms | Allocations: 42128)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-18 16:48:06 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 28], ["current_sign_in_at", "2024-12-18 11:18:06.446863"], ["last_sign_in_at", "2024-12-18 11:09:50.683101"], ["updated_at", "2024-12-18 11:18:06.447614"], ["id", 1]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 219ms (Views: 0.4ms | ActiveRecord: 29.5ms | Allocations: 56169)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-18 16:49:42 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 29], ["current_sign_in_at", "2024-12-18 11:19:42.603058"], ["last_sign_in_at", "2024-12-18 11:18:06.446863"], ["updated_at", "2024-12-18 11:19:42.603586"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 211ms (Views: 0.3ms | ActiveRecord: 30.6ms | Allocations: 56277)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-18 17:00:57 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.9ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 30], ["current_sign_in_at", "2024-12-18 11:30:58.096263"], ["last_sign_in_at", "2024-12-18 11:19:42.603058"], ["updated_at", "2024-12-18 11:30:58.096851"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
undefined method `allowed_to_access?' for an instance of SalariesController
["/home/a/Documents/GitHub/Digiroster-backend/vendor/gems/freshcare_authority-0.1/lib/authority/rails/controller_helpers.rb:13:in `check_privilege'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:400:in `block in make_lambda'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:200:in `block in halting'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `block in invoke_before'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `each'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `invoke_before'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:106:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 238ms (Views: 0.3ms | ActiveRecord: 34.7ms | Allocations: 56754)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 17:04:04 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (2.1ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (2.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 31], ["current_sign_in_at", "2024-12-18 11:34:04.800015"], ["last_sign_in_at", "2024-12-18 11:30:58.096263"], ["updated_at", "2024-12-18 11:34:04.800499"], ["id", 1]]
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
undefined method `allowed_to_access?' for an instance of SalariesController
["/home/a/Documents/GitHub/Digiroster-backend/vendor/gems/freshcare_authority-0.1/lib/authority/rails/controller_helpers.rb:13:in `check_privilege'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:400:in `block in make_lambda'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:200:in `block in halting'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `block in invoke_before'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `each'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `invoke_before'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:106:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 62ms (Views: 0.2ms | ActiveRecord: 14.1ms | Allocations: 11133)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-18 17:06:30 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (1.0ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 32], ["current_sign_in_at", "2024-12-18 11:36:30.594177"], ["last_sign_in_at", "2024-12-18 11:34:04.800015"], ["updated_at", "2024-12-18 11:36:30.595045"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 224ms (Views: 0.4ms | ActiveRecord: 29.2ms | Allocations: 56274)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-18 17:13:57 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.9ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 33], ["current_sign_in_at", "2024-12-18 11:43:57.448919"], ["last_sign_in_at", "2024-12-18 11:36:30.594177"], ["updated_at", "2024-12-18 11:43:57.449699"], ["id", 1]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 235ms (Views: 0.4ms | ActiveRecord: 31.0ms | Allocations: 56159)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 17:32:09 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 34], ["current_sign_in_at", "2024-12-18 12:02:09.523243"], ["last_sign_in_at", "2024-12-18 11:43:57.448919"], ["updated_at", "2024-12-18 12:02:09.523921"], ["id", 1]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 142ms (Views: 0.2ms | ActiveRecord: 18.1ms | Allocations: 43789)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 17:45:26 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.9ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 35], ["current_sign_in_at", "2024-12-18 12:15:26.538345"], ["last_sign_in_at", "2024-12-18 12:02:09.523243"], ["updated_at", "2024-12-18 12:15:26.538960"], ["id", 1]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 123ms (Views: 0.2ms | ActiveRecord: 24.0ms | Allocations: 14444)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-18 18:08:59 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.9ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 36], ["current_sign_in_at", "2024-12-18 12:38:59.848393"], ["last_sign_in_at", "2024-12-18 12:15:26.538345"], ["updated_at", "2024-12-18 12:38:59.848916"], ["id", 1]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 213ms (Views: 0.3ms | ActiveRecord: 34.4ms | Allocations: 56166)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 18:10:02 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 37], ["current_sign_in_at", "2024-12-18 12:40:02.056412"], ["last_sign_in_at", "2024-12-18 12:38:59.848393"], ["updated_at", "2024-12-18 12:40:02.056835"], ["id", 1]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 33ms (Views: 0.2ms | ActiveRecord: 6.5ms | Allocations: 10659)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-18 18:48:23 +0530
  
SyntaxError (/home/a/Documents/GitHub/Digiroster-backend/app/controllers/salaries_controller.rb:76: syntax error, unexpected `end'):
  
app/controllers/salaries_controller.rb:76: syntax error, unexpected `end'
app/controllers/salaries_controller.rb:76: syntax error, unexpected `end'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-18 19:21:15 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (1.1ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 38], ["current_sign_in_at", "2024-12-18 13:51:15.580953"], ["last_sign_in_at", "2024-12-18 12:40:02.056412"], ["updated_at", "2024-12-18 13:51:15.581486"], ["id", 1]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 219ms (Views: 0.2ms | ActiveRecord: 29.2ms | Allocations: 56163)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 19:29:04 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 39], ["current_sign_in_at", "2024-12-18 13:59:04.141557"], ["last_sign_in_at", "2024-12-18 13:51:15.580953"], ["updated_at", "2024-12-18 13:59:04.141884"], ["id", 1]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 79ms (Views: 0.2ms | ActiveRecord: 18.9ms | Allocations: 14494)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 19:56:31 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 40], ["current_sign_in_at", "2024-12-18 14:26:32.063633"], ["last_sign_in_at", "2024-12-18 13:59:04.141557"], ["updated_at", "2024-12-18 14:26:32.064320"], ["id", 1]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 154ms (Views: 0.2ms | ActiveRecord: 18.6ms | Allocations: 43839)


Started POST "/salaries" for 127.0.0.1 at 2024-12-18 20:01:58 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (1.0ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (2.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 41], ["current_sign_in_at", "2024-12-18 14:31:58.678586"], ["last_sign_in_at", "2024-12-18 14:26:32.063633"], ["updated_at", "2024-12-18 14:31:58.679117"], ["id", 1]]
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
Unauthorized - FC Authority
Completed 401 Unauthorized in 50ms (Views: 0.2ms | ActiveRecord: 12.5ms | Allocations: 10659)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-20 11:21:12 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (4.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (4.3ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 56], ["current_sign_in_at", "2024-12-20 05:51:13.415263"], ["last_sign_in_at", "2024-12-19 13:44:30.037750"], ["updated_at", "2024-12-20 05:51:13.415833"], ["id", 1]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/users/sign_in/" for 127.0.0.1 at 2024-12-20 11:35:19 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"arj.ramkumar@gmail.com", "password"=>"[FILTERED]"}}}
  [1m[36mDomainMapping Load (0.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."email" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["account_id", 1], ["email", "arj.ramkumar@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mAllowlistedJwt Create (16.8ms)[0m  [1m[32mINSERT INTO "allowlisted_jwts" ("jti", "exp", "account_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["jti", "cb2e63d4-78c4-4fa6-91f2-67b4cae9ad56"], ["exp", "2024-12-27 06:05:20"], ["account_id", 1], ["user_id", 1], ["created_at", "2024-12-20 06:05:20.302493"], ["updated_at", "2024-12-20 06:05:20.302493"]]
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
Query Trace:
      app/models/user.rb:49:in `on_jwt_dispatch'
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/user.rb:49:in `on_jwt_dispatch'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 57], ["current_sign_in_at", "2024-12-20 06:05:20.335876"], ["last_sign_in_at", "2024-12-20 05:51:13.415263"], ["updated_at", "2024-12-20 06:05:20.336375"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
Query Trace:
      app/controllers/application_controller.rb:60:in `set_current_user'
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/application_controller.rb:60:in `set_current_user'
  [1m[36mAppointment Load (18.6ms)[0m  [1m[34mSELECT "appointments".* FROM "appointments" INNER JOIN "agent_appointments" ON "appointments"."id" = "agent_appointments"."appointment_id" WHERE "appointments"."account_id" = $1 AND "agent_appointments"."account_id" = $2 AND "agent_appointments"."agent_id" = $3 AND (start_time > '2024-11-30 18:30:00' AND start_time < '2024-12-31 18:30:00') ORDER BY "appointments"."created_at" DESC[0m  [["account_id", 1], ["account_id", 1], ["agent_id", 1]]
  ↳ app/models/agent.rb:27:in `working_hours'
Query Trace:
      app/models/agent.rb:27:in `working_hours'
      app/decorators/agent_decorator.rb:30:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/models/agent.rb:27:in `working_hours'
  [1m[36mActiveStorage::Attachment Load (7.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "general_file"], ["LIMIT", 1]]
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Query Trace:
      app/decorators/agent_decorator.rb:37:in `build_file_info'
      app/decorators/agent_decorator.rb:31:in `api_decorate'
      app/models/application_record.rb:13:in `api_format'
      app/controllers/users/sessions_controller.rb:33:in `respond_with'
      app/controllers/users/sessions_controller.rb:15:in `create'
  ↳ app/decorators/agent_decorator.rb:37:in `build_file_info'
Completed 200 OK in 663ms (Views: 0.4ms | ActiveRecord: 116.3ms | Allocations: 78671)


Started POST "/salaries" for 127.0.0.1 at 2024-12-20 11:43:01 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "cb2e63d4-78c4-4fa6-91f2-67b4cae9ad56"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 58], ["current_sign_in_at", "2024-12-20 06:13:01.613496"], ["last_sign_in_at", "2024-12-20 06:05:20.335876"], ["updated_at", "2024-12-20 06:13:01.614148"], ["id", 1]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSalary Load (10.8ms)[0m  [1m[34mSELECT "salaries".* FROM "salaries" WHERE "salaries"."carer_id" = $1 AND "salaries"."time_period" = $2 AND "salaries"."account_id" = $3 LIMIT $4[0m  [["carer_id", "3"], ["time_period", "1"], ["account_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/salaries_controller.rb:21:in `create'
Query Trace:
      app/controllers/salaries_controller.rb:21:in `create'
  ↳ app/controllers/salaries_controller.rb:21:in `create'
Couldn't find SalarySlabInput with ID=1 for Salary with ID=
["/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:594:in `raise_nested_attributes_record_not_found!'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:519:in `block in assign_nested_attributes_for_collection_association'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:494:in `each'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:494:in `assign_nested_attributes_for_collection_association'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:372:in `salary_slab_inputs_attributes='", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:49:in `public_send'", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:49:in `_assign_attribute'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:21:in `block in _assign_attributes'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:13:in `each'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:13:in `_assign_attributes'", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:34:in `assign_attributes'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/core.rb:468:in `initialize'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/inheritance.rb:75:in `new'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/inheritance.rb:75:in `new'", "/home/a/Documents/GitHub/Digiroster-backend/app/controllers/salaries_controller.rb:25:in `create'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:215:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rendering.rb:165:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:234:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:107:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 11810186ms (Views: 4.5ms | ActiveRecord: 175.7ms | Allocations: 6677543)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-20 15:05:10 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "cb2e63d4-78c4-4fa6-91f2-67b4cae9ad56"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 59], ["current_sign_in_at", "2024-12-20 09:35:10.565535"], ["last_sign_in_at", "2024-12-20 06:13:01.613496"], ["updated_at", "2024-12-20 09:35:10.566046"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSalary Load (2.7ms)[0m  [1m[34mSELECT "salaries".* FROM "salaries" WHERE "salaries"."carer_id" = $1 AND "salaries"."time_period" = $2 AND "salaries"."account_id" = $3 LIMIT $4[0m  [["carer_id", "3"], ["time_period", "1"], ["account_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/salaries_controller.rb:21:in `create'
Query Trace:
      app/controllers/salaries_controller.rb:21:in `create'
  ↳ app/controllers/salaries_controller.rb:21:in `create'
Couldn't find SalarySlabInput with ID=1 for Salary with ID=
["/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:594:in `raise_nested_attributes_record_not_found!'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:519:in `block in assign_nested_attributes_for_collection_association'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:494:in `each'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:494:in `assign_nested_attributes_for_collection_association'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:372:in `salary_slab_inputs_attributes='", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:49:in `public_send'", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:49:in `_assign_attribute'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:21:in `block in _assign_attributes'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:13:in `each'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:13:in `_assign_attributes'", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:34:in `assign_attributes'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/core.rb:468:in `initialize'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/inheritance.rb:75:in `new'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/inheritance.rb:75:in `new'", "/home/a/Documents/GitHub/Digiroster-backend/app/controllers/salaries_controller.rb:25:in `create'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:215:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rendering.rb:165:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:234:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:107:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
  [1m[36mSalarySlabInput Exists? (17.0ms)[0m  [1m[34mSELECT 1 AS one FROM "salary_slab_inputs" WHERE "salary_slab_inputs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ (byebug):1:in `block in process_action'
Completed 500 Internal Server Error in 983306ms (Views: 2.8ms | ActiveRecord: 200.4ms | Allocations: 6743097)


  [1m[36mCACHE SalarySlabInput Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "salary_slab_inputs" WHERE "salary_slab_inputs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ (byebug):1:in `call'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-20 15:56:27 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (1.2ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "cb2e63d4-78c4-4fa6-91f2-67b4cae9ad56"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 60], ["current_sign_in_at", "2024-12-20 10:26:27.475746"], ["last_sign_in_at", "2024-12-20 09:35:10.565535"], ["updated_at", "2024-12-20 10:26:27.476364"], ["id", 1]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSalary Load (0.9ms)[0m  [1m[34mSELECT "salaries".* FROM "salaries" WHERE "salaries"."carer_id" = $1 AND "salaries"."time_period" = $2 AND "salaries"."account_id" = $3 LIMIT $4[0m  [["carer_id", "3"], ["time_period", "1"], ["account_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/salaries_controller.rb:21:in `create'
Query Trace:
      app/controllers/salaries_controller.rb:21:in `create'
  ↳ app/controllers/salaries_controller.rb:21:in `create'
Couldn't find SalarySlabInput with ID=1 for Salary with ID=
["/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:594:in `raise_nested_attributes_record_not_found!'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:519:in `block in assign_nested_attributes_for_collection_association'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:494:in `each'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:494:in `assign_nested_attributes_for_collection_association'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:372:in `salary_slab_inputs_attributes='", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:49:in `public_send'", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:49:in `_assign_attribute'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:21:in `block in _assign_attributes'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:13:in `each'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:13:in `_assign_attributes'", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:34:in `assign_attributes'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/core.rb:468:in `initialize'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/inheritance.rb:75:in `new'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/inheritance.rb:75:in `new'", "/home/a/Documents/GitHub/Digiroster-backend/app/controllers/salaries_controller.rb:25:in `create'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:215:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rendering.rb:165:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:234:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:107:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 233336ms (Views: 0.5ms | ActiveRecord: 55.3ms | Allocations: 233369)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (1.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1246465507983628380)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/railtie.rb:80)
Started GET "/salaries" for 127.0.0.1 at 2024-12-20 16:20:21 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SalariesController#index as */*
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Completed 401 Unauthorized in 76ms (ActiveRecord: 14.4ms | Allocations: 18554)


Started GET "/salaries" for 127.0.0.1 at 2024-12-20 16:20:32 +0530
Processing by SalariesController#index as */*
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "cb2e63d4-78c4-4fa6-91f2-67b4cae9ad56"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 61], ["current_sign_in_at", "2024-12-20 10:50:32.218536"], ["last_sign_in_at", "2024-12-20 10:26:27.475746"], ["updated_at", "2024-12-20 10:50:32.219071"], ["id", 1]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSalary Load (1.3ms)[0m  [1m[34mSELECT "salaries".* FROM "salaries"[0m
  ↳ app/controllers/salaries_controller.rb:6:in `index'
Query Trace:
      app/controllers/salaries_controller.rb:6:in `index'
  ↳ app/controllers/salaries_controller.rb:6:in `index'
Completed 200 OK in 27013ms (Views: 0.3ms | ActiveRecord: 16.5ms | Allocations: 92854)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/salaries" for 127.0.0.1 at 2024-12-20 16:25:48 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "cb2e63d4-78c4-4fa6-91f2-67b4cae9ad56"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 62], ["current_sign_in_at", "2024-12-20 10:55:49.212170"], ["last_sign_in_at", "2024-12-20 10:50:32.218536"], ["updated_at", "2024-12-20 10:55:49.213064"], ["id", 1]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Couldn't find SalarySlabInput with ID=1 for Salary with ID=
["/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:594:in `raise_nested_attributes_record_not_found!'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:519:in `block in assign_nested_attributes_for_collection_association'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:494:in `each'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:494:in `assign_nested_attributes_for_collection_association'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:372:in `salary_slab_inputs_attributes='", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:49:in `public_send'", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:49:in `_assign_attribute'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:21:in `block in _assign_attributes'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:13:in `each'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:13:in `_assign_attributes'", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:34:in `assign_attributes'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/core.rb:468:in `initialize'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/inheritance.rb:75:in `new'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/inheritance.rb:75:in `new'", "/home/a/Documents/GitHub/Digiroster-backend/app/controllers/salaries_controller.rb:14:in `create'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:215:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rendering.rb:165:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:234:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:107:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 7696ms (Views: 0.5ms | ActiveRecord: 46.7ms | Allocations: 106854)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices/create" for 127.0.0.1 at 2024-12-20 18:35:33 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/invoices/create"):
  
Started POST "/invoices/create" for 127.0.0.1 at 2024-12-20 18:37:11 +0530
  
ActionController::RoutingError (No route matches [POST] "/invoices/create"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices/create" for 127.0.0.1 at 2024-12-20 18:37:40 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/invoices/create"):
  
Started POST "/invoices/create" for 127.0.0.1 at 2024-12-20 18:48:44 +0530
  
ActionController::RoutingError (No route matches [POST] "/invoices/create"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices/create" for 127.0.0.1 at 2024-12-20 18:49:19 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/invoices/create"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices/create" for 127.0.0.1 at 2024-12-20 18:54:47 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/invoices/create"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices/create" for 127.0.0.1 at 2024-12-20 19:14:06 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/invoices/create"):
  
Started POST "/invoices/create" for 127.0.0.1 at 2024-12-20 19:30:58 +0530
  
ActionController::RoutingError (No route matches [POST] "/invoices/create"):
  
Started POST "/invoices" for 127.0.0.1 at 2024-12-20 19:31:11 +0530
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (1.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (2.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (2.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 63], ["current_sign_in_at", "2024-12-20 14:01:12.171403"], ["last_sign_in_at", "2024-12-20 10:55:49.212170"], ["updated_at", "2024-12-20 14:01:12.171924"], ["id", 1]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
undefined method `merge' for nil
["/home/a/Documents/GitHub/Digiroster-backend/app/controllers/generated_invoices_controller.rb:7:in `create'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:215:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rendering.rb:165:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:234:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:107:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 228ms (Views: 0.2ms | ActiveRecord: 52.6ms | Allocations: 60143)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices" for 127.0.0.1 at 2024-12-20 19:36:20 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 64], ["current_sign_in_at", "2024-12-20 14:06:20.416653"], ["last_sign_in_at", "2024-12-20 14:01:12.171403"], ["updated_at", "2024-12-20 14:06:20.417479"], ["id", 1]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
undefined method `merge' for nil
["/home/a/Documents/GitHub/Digiroster-backend/app/controllers/generated_invoices_controller.rb:7:in `create'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:215:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rendering.rb:165:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:234:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:107:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 211ms (Views: 0.2ms | ActiveRecord: 26.8ms | Allocations: 56668)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices" for 127.0.0.1 at 2024-12-20 19:43:49 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.9ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 65], ["current_sign_in_at", "2024-12-20 14:13:50.159843"], ["last_sign_in_at", "2024-12-20 14:06:20.416653"], ["updated_at", "2024-12-20 14:13:50.160575"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
undefined method `merge' for nil
["/home/a/Documents/GitHub/Digiroster-backend/app/controllers/generated_invoices_controller.rb:7:in `create'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:215:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rendering.rb:165:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:234:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:107:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 218ms (Views: 0.6ms | ActiveRecord: 35.6ms | Allocations: 56675)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices" for 127.0.0.1 at 2024-12-21 12:29:04 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (3.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (2.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (2.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 66], ["current_sign_in_at", "2024-12-21 06:59:04.817836"], ["last_sign_in_at", "2024-12-20 14:13:50.159843"], ["updated_at", "2024-12-21 06:59:04.818554"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
undefined method `merge' for nil
["/home/a/Documents/GitHub/Digiroster-backend/app/controllers/generated_invoices_controller.rb:7:in `create'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:215:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rendering.rb:165:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:234:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:107:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 240ms (Views: 0.2ms | ActiveRecord: 49.6ms | Allocations: 56605)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices" for 127.0.0.1 at 2024-12-21 12:42:40 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 67], ["current_sign_in_at", "2024-12-21 07:12:41.084183"], ["last_sign_in_at", "2024-12-21 06:59:04.817836"], ["updated_at", "2024-12-21 07:12:41.084857"], ["id", 1]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
undefined method `merge' for nil
["/home/a/Documents/GitHub/Digiroster-backend/app/controllers/generated_invoices_controller.rb:7:in `create'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:215:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rendering.rb:165:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:234:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:107:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 219ms (Views: 0.4ms | ActiveRecord: 33.0ms | Allocations: 56670)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices" for 127.0.0.1 at 2024-12-21 12:47:31 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 68], ["current_sign_in_at", "2024-12-21 07:17:32.155109"], ["last_sign_in_at", "2024-12-21 07:12:41.084183"], ["updated_at", "2024-12-21 07:17:32.155748"], ["id", 1]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
undefined method `validate_params' for an instance of GeneratedInvoicesController
["/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:400:in `block in make_lambda'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:180:in `block (2 levels) in halting_and_conditional'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:181:in `block in halting_and_conditional'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `block in invoke_before'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `each'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `invoke_before'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:106:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 222ms (Views: 0.2ms | ActiveRecord: 32.4ms | Allocations: 56647)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 12:49:12 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 69], ["current_sign_in_at", "2024-12-21 07:19:12.555664"], ["last_sign_in_at", "2024-12-21 07:17:32.155109"], ["updated_at", "2024-12-21 07:19:12.556394"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mInvoice Load (1.3ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:11:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:11:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:20:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:20:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
Completed 422 Unprocessable Entity in 203ms (Views: 4.5ms | ActiveRecord: 41.8ms | Allocations: 65395)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 12:53:22 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 70], ["current_sign_in_at", "2024-12-21 07:23:23.109268"], ["last_sign_in_at", "2024-12-21 07:19:12.555664"], ["updated_at", "2024-12-21 07:23:23.110014"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:49:in `set_account'
Query Trace:
      app/controllers/generated_invoices_controller.rb:49:in `set_account'
  ↳ app/controllers/generated_invoices_controller.rb:49:in `set_account'
[31mUnpermitted parameters: :groupId, :regionId, :durationtype, :customizedCheckbox, :ratePerMinute, :invoiceDate. Context: { controller: GeneratedInvoicesController, action: create, request: #<ActionDispatch::Request:0x00007d857f5612d8>, params: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "controller"=>"generated_invoices", "action"=>"create", "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}} }[0m
Incoming Params: #<ActionController::Parameters {"invoice"=>#<ActionController::Parameters {"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"} permitted: false>, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "controller"=>"generated_invoices", "action"=>"create", "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}, "format"=>"json"} permitted: false>
Merged Params: #<ActionController::Parameters {"clientId"=>"5", "timePeriod"=>"1", "account_id"=>1} permitted: true>
  [1m[36mInvoice Load (0.6ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:14:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:24:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:24:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/group.rb:12:in `<class:Group>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:24:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:24:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:24:in `create'
Invoice creation failed: ["Client must exist", "Group must exist", "Region must exist", "Invoiceid can't be blank", "Timeperiod is not included in the list", "Rateperminute is not a number"]
Completed 422 Unprocessable Entity in 195ms (Views: 0.2ms | ActiveRecord: 37.2ms | Allocations: 64848)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 12:54:54 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 71], ["current_sign_in_at", "2024-12-21 07:24:54.407800"], ["last_sign_in_at", "2024-12-21 07:23:23.109268"], ["updated_at", "2024-12-21 07:24:54.408266"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
undefined method `validate_params' for an instance of GeneratedInvoicesController
["/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:400:in `block in make_lambda'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:180:in `block (2 levels) in halting_and_conditional'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:181:in `block in halting_and_conditional'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `block in invoke_before'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `each'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `invoke_before'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:106:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 114ms (Views: 0.2ms | ActiveRecord: 30.4ms | Allocations: 42444)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices" for 127.0.0.1 at 2024-12-21 12:55:59 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (1.4ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 72], ["current_sign_in_at", "2024-12-21 07:26:00.287941"], ["last_sign_in_at", "2024-12-21 07:24:54.407800"], ["updated_at", "2024-12-21 07:26:00.289092"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mInvoice Load (0.8ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:12:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:12:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:21:in `create'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:21:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:21:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:21:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:21:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:21:in `create'
Completed 422 Unprocessable Entity in 276ms (Views: 3.7ms | ActiveRecord: 43.4ms | Allocations: 79322)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 13:00:30 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 73], ["current_sign_in_at", "2024-12-21 07:30:31.075204"], ["last_sign_in_at", "2024-12-21 07:26:00.287941"], ["updated_at", "2024-12-21 07:30:31.075659"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20", "account_id"=>1}
  [1m[36mInvoice Load (0.5ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:14:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:23:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:23:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Invoice save failed: ["Client must exist", "Group must exist", "Region must exist", "Invoiceid can't be blank", "Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 195ms (Views: 0.2ms | ActiveRecord: 36.2ms | Allocations: 62800)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 13:12:16 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 74], ["current_sign_in_at", "2024-12-21 07:42:16.805939"], ["last_sign_in_at", "2024-12-21 07:30:31.075204"], ["updated_at", "2024-12-21 07:42:16.806676"], ["id", 1]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>"5", "groupId"=>"1", "regionId"=>"2", "timePeriod"=>"1", "durationtype"=>"1", "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20", "account_id"=>1}
  [1m[36mInvoice Load (0.7ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:14:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Invoice save failed: ["Client must exist", "Group must exist", "Region must exist", "Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 192ms (Views: 0.2ms | ActiveRecord: 20.0ms | Allocations: 63168)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 13:15:48 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 75], ["current_sign_in_at", "2024-12-21 07:45:48.975284"], ["last_sign_in_at", "2024-12-21 07:42:16.805939"], ["updated_at", "2024-12-21 07:45:48.975815"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.6ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:14:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Invoice save failed: ["Client must exist", "Group must exist", "Region must exist", "Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 51ms (Views: 0.1ms | ActiveRecord: 8.7ms | Allocations: 18968)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 13:26:41 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 76], ["current_sign_in_at", "2024-12-21 07:56:42.205062"], ["last_sign_in_at", "2024-12-21 07:45:48.975284"], ["updated_at", "2024-12-21 07:56:42.205851"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.6ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:14:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Invoice save failed: ["Client must exist", "Group must exist", "Region must exist", "Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 155ms (Views: 0.2ms | ActiveRecord: 18.4ms | Allocations: 63171)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices" for 127.0.0.1 at 2024-12-21 13:28:34 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.9ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 77], ["current_sign_in_at", "2024-12-21 07:58:34.698414"], ["last_sign_in_at", "2024-12-21 07:56:42.205062"], ["updated_at", "2024-12-21 07:58:34.699021"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.7ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:14:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Invoice save failed: ["Client must exist", "Group must exist", "Region must exist", "Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 294ms (Views: 0.2ms | ActiveRecord: 70.4ms | Allocations: 80861)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 13:30:04 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 78], ["current_sign_in_at", "2024-12-21 08:00:04.561719"], ["last_sign_in_at", "2024-12-21 07:58:34.698414"], ["updated_at", "2024-12-21 08:00:04.562186"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.7ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:14:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Invoice save failed: ["Client must exist", "Group must exist", "Region must exist"]
Completed 422 Unprocessable Entity in 186ms (Views: 0.2ms | ActiveRecord: 40.3ms | Allocations: 62013)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 13:33:22 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 79], ["current_sign_in_at", "2024-12-21 08:03:22.428416"], ["last_sign_in_at", "2024-12-21 08:00:04.561719"], ["updated_at", "2024-12-21 08:03:22.428840"], ["id", 1]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.8ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:14:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 183ms (Views: 0.2ms | ActiveRecord: 38.1ms | Allocations: 54435)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 13:56:46 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 80], ["current_sign_in_at", "2024-12-21 08:26:46.528769"], ["last_sign_in_at", "2024-12-21 08:03:22.428416"], ["updated_at", "2024-12-21 08:26:46.529108"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.7ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:14:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 84ms (Views: 0.2ms | ActiveRecord: 19.4ms | Allocations: 20701)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 13:58:21 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 81], ["current_sign_in_at", "2024-12-21 08:28:21.642188"], ["last_sign_in_at", "2024-12-21 08:26:46.528769"], ["updated_at", "2024-12-21 08:28:21.642608"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.8ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:14:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
undefined method `timePeriodValue=' for an instance of Invoice
["/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_methods.rb:450:in `method_missing'", "/home/a/Documents/GitHub/Digiroster-backend/app/models/invoice.rb:46:in `set_time_period_value'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:400:in `block in make_lambda'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:687:in `block (2 levels) in default_terminator'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:686:in `catch'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:686:in `block in default_terminator'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:200:in `block in halting'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `block in invoke_before'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `each'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:595:in `invoke_before'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:116:in `block in run_callbacks'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/autosave_association.rb:370:in `around_save_collection_association'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:127:in `block in run_callbacks'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:138:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:929:in `_run_save_callbacks'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/callbacks.rb:455:in `create_or_update'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/timestamp.rb:126:in `create_or_update'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/persistence.rb:615:in `save'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/validations.rb:47:in `save'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/transactions.rb:298:in `block in save'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/transactions.rb:354:in `block in with_transaction_returning_status'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/connection_adapters/abstract/transaction.rb:319:in `block in within_new_transaction'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/connection_adapters/abstract/transaction.rb:317:in `within_new_transaction'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in `transaction'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/transactions.rb:350:in `with_transaction_returning_status'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/transactions.rb:298:in `save'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/suppressor.rb:50:in `save'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/active_record_prepend.rb:30:in `block in save'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/transaction.rb:884:in `with_database_metric_name'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent.rb:975:in `with_database_metric_name'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/active_record_prepend.rb:29:in `save'", "/home/a/Documents/GitHub/Digiroster-backend/app/controllers/generated_invoices_controller.rb:26:in `create'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:215:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rendering.rb:165:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:234:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:107:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 149ms (Views: 0.2ms | ActiveRecord: 42.6ms | Allocations: 54709)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 14:02:02 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 82], ["current_sign_in_at", "2024-12-21 08:32:02.197111"], ["last_sign_in_at", "2024-12-21 08:28:21.642188"], ["updated_at", "2024-12-21 08:32:02.197881"], ["id", 1]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.8ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:14:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 140ms (Views: 0.2ms | ActiveRecord: 35.0ms | Allocations: 54411)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 14:14:46 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 83], ["current_sign_in_at", "2024-12-21 08:44:47.089444"], ["last_sign_in_at", "2024-12-21 08:32:02.197111"], ["updated_at", "2024-12-21 08:44:47.089997"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.7ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:14:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:26:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:26:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 146ms (Views: 0.2ms | ActiveRecord: 21.3ms | Allocations: 55772)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 14:26:49 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 84], ["current_sign_in_at", "2024-12-21 08:56:49.536119"], ["last_sign_in_at", "2024-12-21 08:44:47.089444"], ["updated_at", "2024-12-21 08:56:49.536986"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.8ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:20:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
  [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:32:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:32:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 147ms (Views: 0.1ms | ActiveRecord: 20.0ms | Allocations: 55775)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 14:27:32 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (3.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 85], ["current_sign_in_at", "2024-12-21 08:57:32.620395"], ["last_sign_in_at", "2024-12-21 08:56:49.536119"], ["updated_at", "2024-12-21 08:57:32.620867"], ["id", 1]]
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.8ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:20:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:32:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:32:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 113ms (Views: 0.2ms | ActiveRecord: 17.4ms | Allocations: 16887)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 14:50:36 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 86], ["current_sign_in_at", "2024-12-21 09:20:36.886525"], ["last_sign_in_at", "2024-12-21 08:57:32.620395"], ["updated_at", "2024-12-21 09:20:36.886849"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.8ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:20:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:32:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:32:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 85ms (Views: 0.1ms | ActiveRecord: 19.7ms | Allocations: 20674)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 16:06:57 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.8ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 87], ["current_sign_in_at", "2024-12-21 10:36:57.643797"], ["last_sign_in_at", "2024-12-21 09:20:36.886525"], ["updated_at", "2024-12-21 10:36:57.644232"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.5ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:20:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:32:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:32:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 219ms (Views: 0.1ms | ActiveRecord: 24.9ms | Allocations: 55814)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices" for 127.0.0.1 at 2024-12-21 16:29:20 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.9ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 88], ["current_sign_in_at", "2024-12-21 10:59:21.254789"], ["last_sign_in_at", "2024-12-21 10:36:57.643797"], ["updated_at", "2024-12-21 10:59:21.255481"], ["id", 1]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.8ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:20:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:32:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:32:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 256ms (Views: 0.2ms | ActiveRecord: 35.7ms | Allocations: 72787)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 16:31:10 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 89], ["current_sign_in_at", "2024-12-21 11:01:10.894880"], ["last_sign_in_at", "2024-12-21 10:59:21.254789"], ["updated_at", "2024-12-21 11:01:10.895314"], ["id", 1]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.6ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:20:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:32:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:32:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 171ms (Views: 0.2ms | ActiveRecord: 34.0ms | Allocations: 54489)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices" for 127.0.0.1 at 2024-12-21 16:33:29 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.9ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 90], ["current_sign_in_at", "2024-12-21 11:03:30.364325"], ["last_sign_in_at", "2024-12-21 11:01:10.894880"], ["updated_at", "2024-12-21 11:03:30.364853"], ["id", 1]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.8ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:20:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:32:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:32:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:32:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 210ms (Views: 0.3ms | ActiveRecord: 41.4ms | Allocations: 72706)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 16:52:00 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 91], ["current_sign_in_at", "2024-12-21 11:22:01.085619"], ["last_sign_in_at", "2024-12-21 11:03:30.364325"], ["updated_at", "2024-12-21 11:22:01.086235"], ["id", 1]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>"1", "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
Received timePeriod: 1
  [1m[36mInvoice Load (0.6ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:23:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:36:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:36:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 190ms (Views: 0.4ms | ActiveRecord: 22.6ms | Allocations: 55728)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 17:05:13 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.9ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 92], ["current_sign_in_at", "2024-12-21 11:35:13.350225"], ["last_sign_in_at", "2024-12-21 11:22:01.085619"], ["updated_at", "2024-12-21 11:35:13.350758"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
Received timePeriod: 1
  [1m[36mInvoice Load (1.0ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:23:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:36:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:36:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 159ms (Views: 0.2ms | ActiveRecord: 19.9ms | Allocations: 55565)


Started POST "/salaries" for 127.0.0.1 at 2024-12-21 17:09:49 +0530
Processing by SalariesController#create as */*
  Parameters: {"salary"=>{"salary_id"=>"1", "carer_id"=>"3", "group_id"=>"1", "region_id"=>"1", "time_period"=>"1", "customized_checkbox"=>true, "salary_slab_inputs_attributes"=>[{"id"=>1, "rate"=>50}, {"id"=>2, "rate"=>60}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "cb2e63d4-78c4-4fa6-91f2-67b4cae9ad56"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 93], ["current_sign_in_at", "2024-12-21 11:39:49.136768"], ["last_sign_in_at", "2024-12-21 11:35:13.350225"], ["updated_at", "2024-12-21 11:39:49.137170"], ["id", 1]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Couldn't find SalarySlabInput with ID=1 for Salary with ID=
["/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:594:in `raise_nested_attributes_record_not_found!'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:519:in `block in assign_nested_attributes_for_collection_association'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:494:in `each'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:494:in `assign_nested_attributes_for_collection_association'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/nested_attributes.rb:372:in `salary_slab_inputs_attributes='", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:49:in `public_send'", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:49:in `_assign_attribute'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:21:in `block in _assign_attributes'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:13:in `each'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/attribute_assignment.rb:13:in `_assign_attributes'", "/var/lib/gems/3.3.0/gems/activemodel-7.0.8.6/lib/active_model/attribute_assignment.rb:34:in `assign_attributes'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/core.rb:468:in `initialize'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/inheritance.rb:75:in `new'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/inheritance.rb:75:in `new'", "/home/a/Documents/GitHub/Digiroster-backend/app/controllers/salaries_controller.rb:14:in `create'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:215:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rendering.rb:165:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:234:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:107:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 69ms (Views: 0.2ms | ActiveRecord: 25.5ms | Allocations: 17382)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 17:10:43 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 94], ["current_sign_in_at", "2024-12-21 11:40:43.300941"], ["last_sign_in_at", "2024-12-21 11:39:49.136768"], ["updated_at", "2024-12-21 11:40:43.301403"], ["id", 1]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
Received timePeriod: 1
  [1m[36mInvoice Load (0.6ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:23:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:36:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:36:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:36:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 56ms (Views: 0.1ms | ActiveRecord: 8.2ms | Allocations: 16886)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 17:34:04 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 95], ["current_sign_in_at", "2024-12-21 12:04:04.621235"], ["last_sign_in_at", "2024-12-21 11:40:43.300941"], ["updated_at", "2024-12-21 12:04:04.621643"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :durationtype. Context: { controller: GeneratedInvoicesController, action: create, request: #<ActionDispatch::Request:0x000077747b467640>, params: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "controller"=>"generated_invoices", "action"=>"create", "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}} }[0m
  [1m[36mInvoice Load (0.7ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:10:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:10:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:19:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:19:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Completed 422 Unprocessable Entity in 150ms (Views: 0.2ms | ActiveRecord: 18.6ms | Allocations: 57310)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices" for 127.0.0.1 at 2024-12-21 17:34:47 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 96], ["current_sign_in_at", "2024-12-21 12:04:48.028494"], ["last_sign_in_at", "2024-12-21 12:04:04.621235"], ["updated_at", "2024-12-21 12:04:48.029103"], ["id", 1]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :durationtype. Context: { controller: GeneratedInvoicesController, action: create, request: #<ActionDispatch::Request:0x00007e99c008bff0>, params: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "controller"=>"generated_invoices", "action"=>"create", "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}} }[0m
  [1m[36mInvoice Load (0.8ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:10:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:10:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:19:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:19:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Completed 422 Unprocessable Entity in 219ms (Views: 0.4ms | ActiveRecord: 41.4ms | Allocations: 73854)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 17:36:12 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 97], ["current_sign_in_at", "2024-12-21 12:06:12.853699"], ["last_sign_in_at", "2024-12-21 12:04:48.028494"], ["updated_at", "2024-12-21 12:06:12.854079"], ["id", 1]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :durationtype. Context: { controller: GeneratedInvoicesController, action: create, request: #<ActionDispatch::Request:0x00007e99c014cd18>, params: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "controller"=>"generated_invoices", "action"=>"create", "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}} }[0m
  [1m[36mInvoice Load (0.7ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "2"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:10:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:10:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:19:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:19:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Completed 422 Unprocessable Entity in 47ms (Views: 0.1ms | ActiveRecord: 9.4ms | Allocations: 16847)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 17:37:21 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"3", "timePeriod"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>10, "invoiceDate"=>"2024-12-21", "invoiceId"=>"abc123-xyz789"}, "items"=>[{"date"=>"2024-12-21", "quantity"=>5, "description"=>"Service charge", "unitPrice"=>15, "amount"=>75}], "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"3", "timePeriod"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>10, "invoiceDate"=>"2024-12-21", "invoiceId"=>"abc123-xyz789"}, "items"=>[{"date"=>"2024-12-21", "quantity"=>5, "description"=>"Service charge", "unitPrice"=>15, "amount"=>75}]}}
  [1m[36mDomainMapping Load (4.7ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (1.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 98], ["current_sign_in_at", "2024-12-21 12:07:21.464625"], ["last_sign_in_at", "2024-12-21 12:06:12.853699"], ["updated_at", "2024-12-21 12:07:21.464964"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mInvoice Load (0.6ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:10:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:10:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:19:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:19:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Completed 422 Unprocessable Entity in 129ms (Views: 0.1ms | ActiveRecord: 14.3ms | Allocations: 16550)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 17:38:18 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"3", "timePeriod"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>10, "invoiceDate"=>"2024-12-21", "invoiceId"=>"abc123-xyz789"}, "items"=>[{"date"=>"2024-12-21", "quantity"=>5, "description"=>"Service charge", "unitPrice"=>15, "amount"=>75}], "generated_invoice"=>{"invoice"=>{"clientId"=>"5", "groupId"=>"1", "regionId"=>"3", "timePeriod"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>10, "invoiceDate"=>"2024-12-21", "invoiceId"=>"abc123-xyz789"}, "items"=>[{"date"=>"2024-12-21", "quantity"=>5, "description"=>"Service charge", "unitPrice"=>15, "amount"=>75}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 99], ["current_sign_in_at", "2024-12-21 12:08:18.472254"], ["last_sign_in_at", "2024-12-21 12:07:21.464625"], ["updated_at", "2024-12-21 12:08:18.472675"], ["id", 1]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mInvoice Load (0.6ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:10:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:10:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:19:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:19:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Completed 422 Unprocessable Entity in 156ms (Views: 0.2ms | ActiveRecord: 37.0ms | Allocations: 55705)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 17:39:20 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (2.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 100], ["current_sign_in_at", "2024-12-21 12:09:20.271118"], ["last_sign_in_at", "2024-12-21 12:08:18.472254"], ["updated_at", "2024-12-21 12:09:20.271706"], ["id", 1]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :durationtype. Context: { controller: GeneratedInvoicesController, action: create, request: #<ActionDispatch::Request:0x00007e99c011fac0>, params: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "controller"=>"generated_invoices", "action"=>"create", "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}} }[0m
  [1m[36mInvoice Load (0.7ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "2"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:10:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:10:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:19:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:19:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Completed 422 Unprocessable Entity in 114ms (Views: 0.2ms | ActiveRecord: 11.9ms | Allocations: 16824)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 17:41:34 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (1.1ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 101], ["current_sign_in_at", "2024-12-21 12:11:34.690150"], ["last_sign_in_at", "2024-12-21 12:09:20.271118"], ["updated_at", "2024-12-21 12:11:34.690590"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :durationtype. Context: { controller: GeneratedInvoicesController, action: create, request: #<ActionDispatch::Request:0x00007e99c1170640>, params: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "controller"=>"generated_invoices", "action"=>"create", "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}} }[0m
  [1m[36mInvoice Load (0.7ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "2"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:10:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:10:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:19:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:19:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:19:in `create'
Completed 422 Unprocessable Entity in 141ms (Views: 0.2ms | ActiveRecord: 33.5ms | Allocations: 54424)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 17:41:59 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 102], ["current_sign_in_at", "2024-12-21 12:11:59.736979"], ["last_sign_in_at", "2024-12-21 12:11:34.690150"], ["updated_at", "2024-12-21 12:11:59.737644"], ["id", 1]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :durationtype. Context: { controller: GeneratedInvoicesController, action: create, request: #<ActionDispatch::Request:0x00007e99ba5c17c8>, params: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "controller"=>"generated_invoices", "action"=>"create", "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}} }[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.5ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "2"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:11:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:11:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:23:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:23:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 211ms (Views: 0.2ms | ActiveRecord: 39.2ms | Allocations: 54424)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 17:42:13 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 103], ["current_sign_in_at", "2024-12-21 12:12:13.453776"], ["last_sign_in_at", "2024-12-21 12:11:59.736979"], ["updated_at", "2024-12-21 12:12:13.454521"], ["id", 1]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :durationtype. Context: { controller: GeneratedInvoicesController, action: create, request: #<ActionDispatch::Request:0x00007e99ba570d28>, params: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "controller"=>"generated_invoices", "action"=>"create", "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}} }[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
/home/a/Documents/GitHub/Digiroster-backend/app/models/invoice.rb:5: syntax error, unexpected symbol literal, expecting `do' or '{' or '('
  belongs_to :group, optional: true
             ^

["/usr/lib/ruby/3.3.0/bundled_gems.rb:74:in `require'", "/usr/lib/ruby/3.3.0/bundled_gems.rb:74:in `block (2 levels) in replace_require'", "/var/lib/gems/3.3.0/gems/bootsnap-1.18.4/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'", "/var/lib/gems/3.3.0/gems/zeitwerk-2.7.1/lib/zeitwerk/core_ext/kernel.rb:26:in `require'", "/home/a/Documents/GitHub/Digiroster-backend/app/controllers/generated_invoices_controller.rb:11:in `create'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:215:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rendering.rb:165:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:234:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:107:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 110ms (Views: 0.2ms | ActiveRecord: 25.1ms | Allocations: 43184)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 17:53:56 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 104], ["current_sign_in_at", "2024-12-21 12:23:56.629640"], ["last_sign_in_at", "2024-12-21 12:12:13.453776"], ["updated_at", "2024-12-21 12:23:56.630115"], ["id", 1]]
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :durationtype. Context: { controller: GeneratedInvoicesController, action: create, request: #<ActionDispatch::Request:0x00007e99ba4c9bb8>, params: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "controller"=>"generated_invoices", "action"=>"create", "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}} }[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>2, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.8ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "2"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:11:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:11:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:23:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:23:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 178ms (Views: 0.2ms | ActiveRecord: 39.7ms | Allocations: 56565)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 17:56:42 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 105], ["current_sign_in_at", "2024-12-21 12:26:42.720510"], ["last_sign_in_at", "2024-12-21 12:23:56.629640"], ["updated_at", "2024-12-21 12:26:42.720840"], ["id", 1]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :durationtype. Context: { controller: GeneratedInvoicesController, action: create, request: #<ActionDispatch::Request:0x00007e99ba781680>, params: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "controller"=>"generated_invoices", "action"=>"create", "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}} }[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.6ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:11:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:11:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:23:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:23:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 53ms (Views: 0.2ms | ActiveRecord: 8.7ms | Allocations: 17122)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
Started POST "/invoices" for 127.0.0.1 at 2024-12-21 18:00:46 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/app/controllers/application_controller.rb:1)
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.5ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 106], ["current_sign_in_at", "2024-12-21 12:30:47.301338"], ["last_sign_in_at", "2024-12-21 12:26:42.720510"], ["updated_at", "2024-12-21 12:30:47.301905"], ["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :durationtype. Context: { controller: GeneratedInvoicesController, action: create, request: #<ActionDispatch::Request:0x000070c5861ae250>, params: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "controller"=>"generated_invoices", "action"=>"create", "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}} }[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
  [1m[36mInvoice Load (0.8ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" WHERE "invoices"."clientId" = $1 AND "invoices"."timePeriod" = $2 LIMIT $3[0m  [["clientId", "5"], ["timePeriod", "1"], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:11:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:11:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:23:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Query Trace:
      app/controllers/generated_invoices_controller.rb:23:in `create'
  ↳ app/controllers/generated_invoices_controller.rb:23:in `create'
Invoice save failed: ["Timeperiod is not included in the list"]
Completed 422 Unprocessable Entity in 275ms (Views: 0.2ms | ActiveRecord: 38.8ms | Allocations: 72860)


Started POST "/invoices" for 127.0.0.1 at 2024-12-21 18:12:18 +0530
Processing by GeneratedInvoicesController#create as */*
  Parameters: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}}
  [1m[36mDomainMapping Load (0.6ms)[0m  [1m[34mSELECT "domain_mappings".* FROM "domain_mappings" WHERE "domain_mappings"."domain" = $1 LIMIT $2[0m  [["domain", "renshiners.freshcare.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:68:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:68:in `retrieve_current_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
Query Trace:
      app/controllers/application_controller.rb:69:in `retrieve_current_account'
      app/controllers/application_controller.rb:17:in `current_account'
      app/controllers/application_controller.rb:56:in `set_current_account'
  ↳ app/controllers/application_controller.rb:69:in `retrieve_current_account'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."account_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["account_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAllowlistedJwt Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "allowlisted_jwts" WHERE "allowlisted_jwts"."account_id" = $1 AND "allowlisted_jwts"."user_id" = $2 AND "allowlisted_jwts"."jti" = $3 AND "allowlisted_jwts"."aud" IS NULL LIMIT $4[0m  [["account_id", 1], ["user_id", 1], ["jti", "4de46e09-a035-4af8-b66a-716603f6b290"], ["LIMIT", 1]]
  ↳ app/models/user.rb:38:in `jwt_revoked?'
Query Trace:
      app/models/user.rb:38:in `jwt_revoked?'
  ↳ app/models/user.rb:38:in `jwt_revoked?'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAgent Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 107], ["current_sign_in_at", "2024-12-21 12:42:18.802373"], ["last_sign_in_at", "2024-12-21 12:30:47.301338"], ["updated_at", "2024-12-21 12:42:18.802808"], ["id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :durationtype. Context: { controller: GeneratedInvoicesController, action: create, request: #<ActionDispatch::Request:0x000070c57fb14a80>, params: {"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}], "controller"=>"generated_invoices", "action"=>"create", "generated_invoice"=>{"invoice"=>{"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "durationtype"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z"}, "items"=>[{"date"=>"2024-12-05", "quantity"=>100, "description"=>"Service A", "unitPrice"=>0.75, "amount"=>75.0}, {"date"=>"2024-12-12", "quantity"=>150, "description"=>"Service B", "unitPrice"=>0.75, "amount"=>112.5}]}} }[0m
Merged params: {"clientId"=>5, "groupId"=>1, "regionId"=>2, "timePeriod"=>1, "customizedCheckbox"=>true, "ratePerMinute"=>0.75, "invoiceDate"=>"2024-12-20T00:00:00Z", "account_id"=>1}
Input/output error
["/usr/lib/ruby/3.3.0/reline/ansi.rb:162:in `raw'", "/usr/lib/ruby/3.3.0/reline/ansi.rb:162:in `with_raw_input'", "/usr/lib/ruby/3.3.0/reline.rb:290:in `block in readline'", "/usr/lib/ruby/3.3.0/reline.rb:288:in `synchronize'", "/usr/lib/ruby/3.3.0/reline.rb:288:in `readline'", "/usr/lib/ruby/3.3.0/forwardable.rb:240:in `readline'", "/var/lib/gems/3.3.0/gems/byebug-11.1.3/lib/byebug/interfaces/local_interface.rb:24:in `block (2 levels) in readline'", "/var/lib/gems/3.3.0/gems/byebug-11.1.3/lib/byebug/interfaces/local_interface.rb:53:in `without_readline_completion'", "/var/lib/gems/3.3.0/gems/byebug-11.1.3/lib/byebug/interfaces/local_interface.rb:24:in `block in readline'", "/var/lib/gems/3.3.0/gems/byebug-11.1.3/lib/byebug/interfaces/local_interface.rb:36:in `with_repl_like_sigint'", "/var/lib/gems/3.3.0/gems/byebug-11.1.3/lib/byebug/interfaces/local_interface.rb:24:in `readline'", "/var/lib/gems/3.3.0/gems/byebug-11.1.3/lib/byebug/interface.rb:71:in `prepare_input'", "/var/lib/gems/3.3.0/gems/byebug-11.1.3/lib/byebug/interface.rb:55:in `read_input'", "/var/lib/gems/3.3.0/gems/byebug-11.1.3/lib/byebug/interface.rb:38:in `read_command'", "/var/lib/gems/3.3.0/gems/byebug-11.1.3/lib/byebug/processors/command_processor.rb:128:in `repl'", "/var/lib/gems/3.3.0/gems/byebug-11.1.3/lib/byebug/processors/command_processor.rb:97:in `process_commands'", "/var/lib/gems/3.3.0/gems/byebug-11.1.3/lib/byebug/processors/command_processor.rb:55:in `at_line'", "/var/lib/gems/3.3.0/gems/byebug-11.1.3/lib/byebug/context.rb:98:in `at_line'", "/home/a/Documents/GitHub/Digiroster-backend/app/controllers/generated_invoices_controller.rb:13:in `create'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:215:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rendering.rb:165:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:234:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:107:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/callbacks.rb:233:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/rescue.rb:23:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `block in instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications/instrumenter.rb:24:in `instrument'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/notifications.rb:206:in `instrument'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/instrumentation.rb:66:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/railties/controller_runtime.rb:27:in `process_action'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/abstract_controller/base.rb:151:in `process'", "/var/lib/gems/3.3.0/gems/actionview-7.0.8.6/lib/action_view/rendering.rb:39:in `process'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:188:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_controller/metal.rb:251:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:50:in `block in serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `each'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/journey/router.rb:32:in `serve'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/routing/route_set.rb:852:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/builder.rb:244:in `call'", "/var/lib/gems/3.3.0/bundler/gems/warden-jwt_auth-29cf5e52a436/lib/warden/jwt_auth/middleware.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/bullet-8.0.0/lib/bullet/rack.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/rack/browser_monitoring.rb:38:in `traced_call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:266:in `context'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/session/abstract/id.rb:260:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/cookies.rb:704:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'", "/var/lib/gems/3.3.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/etag.rb:27:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/conditional_get.rb:40:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/head.rb:12:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activerecord-7.0.8.6/lib/active_record/migration.rb:638:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/callbacks.rb:99:in `run_callbacks'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/callbacks.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:40:in `call_app'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `block in call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:37:in `tagged'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/tagged_logging.rb:99:in `tagged'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/rack/logger.rb:25:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/runtime.rb:22:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/activesupport-7.0.8.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/executor.rb:14:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/static.rb:23:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-2.2.10/lib/rack/sendfile.rb:110:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/actionpack-7.0.8.6/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/railties-7.0.8.6/lib/rails/engine.rb:530:in `call'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/instrumentation/middleware_tracing.rb:99:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/configuration.rb:270:in `call'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:98:in `block in handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:340:in `with_force_shutdown'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/request.rb:97:in `handle_request'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:431:in `process_client'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/server.rb:233:in `block in run'", "/var/lib/gems/3.3.0/gems/puma-6.2.0/lib/puma/thread_pool.rb:147:in `block in spawn_thread'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:434:in `block (2 levels) in thread_block_with_current_transaction'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'", "/var/lib/gems/3.3.0/gems/newrelic_rpm-9.16.1/lib/new_relic/agent/tracer.rb:433:in `block in thread_block_with_current_transaction'"]
Completed 500 Internal Server Error in 3538029ms (Views: 5.4ms | ActiveRecord: 17.2ms | Allocations: 3831117)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <main> at /home/a/Documents/GitHub/Digiroster-backend/config/environment.rb:5)
Unable to connect to redis...#<Redis::CannotConnectError: Connection refused - connect(2) for 127.0.0.1:6379 (redis://localhost:6379/1)>
